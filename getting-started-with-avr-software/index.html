<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">

<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1" />
  <link rel="shortcut icon" type="image/x-icon" href="//www.google.com/images/icons/product/sites-16.ico" />
  <link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/5acb68/system/app/images/apple-touch-icon.png" type="image/png" />

  <meta name="title" content="Setting Up AVR Software - QEEWiki" />
  <meta itemprop="name" content="Setting Up AVR Software - QEEWiki" />
  <meta property="og:title" content="Setting Up AVR Software - QEEWiki" />
  <meta name="description" content="Q's Electrical Engineering Wiki" />
  <meta itemprop="description" content="Q's Electrical Engineering Wiki" />
  <meta id="meta-tag-description" property="og:description" content="Q's Electrical Engineering Wiki" />
  <style type="text/css">
  </style>
  <link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/5acb68/system/app/themes/simple/standard-css-simple-ltr-ltr.css" />
  <link rel="stylesheet" type="text/css" href="/site/qeewiki/_/rsrc/1601537872000/system/app/css/overlay.css?cb=simple960px70175goog-ws-leftnonethemedefaultstandard" />
  <link rel="stylesheet" type="text/css" href="/site/qeewiki/_/rsrc/1601537872000/system/app/css/camelot/allthemes-view.css" />

  <title>Setting Up AVR Software - QEEWiki</title>
  <meta itemprop="image" content="/avr-guide/getting-started-with-avr-software/AvrStudio5%20-%20New%20Project.JPG" />
  <meta property="og:image" content="/avr-guide/getting-started-with-avr-software/AvrStudio5%20-%20New%20Project.JPG" />
</head>

<body xmlns="http://www.google.com/ns/jotspot" id="body" class="en">
  <div id="sites-page-toolbar" class="sites-header-divider">
    <div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;">
      <div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div>
    </div>
  </div>
  <div id="sites-chrome-everything-scrollbar">
    <div id="sites-chrome-everything" class="">
      <div id="sites-chrome-page-wrapper" style="direction: ltr">
        <div id="sites-chrome-page-wrapper-inside">
          <div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper">
            <table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0">
              <tr class="sites-header-primary-row" id="sites-chrome-userheader">
                <td id="sites-header-title" class="" role="banner" style="height: 70px">
                  <div class="sites-header-cell-buffer-wrapper">
                    <h2><a href="/avr-guide" dir="ltr" id="sites-chrome-userheader-title">QEEWiki</a></h2>
                  </div>
                </td>
              </tr>
              <tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
                <td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
                </td>
              </tr>
            </table>
          </div>
          <div id="sites-chrome-main-wrapper">
            <div id="sites-chrome-main-wrapper-inside">
              <table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
                <tr>
                  <td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:175px">
                    <div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed" role="navigation">
                      <h4 class="sites-embed-title">Navigation</h4>
                      <div class="sites-embed-content sites-sidebar-nav">
                        <ul role="navigation" jotId="navList" class="has-expander">
                          <li class="topLevel nav-first ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="https://github.com/chayanforyou" jotId="wuid:gx:3b2a480be041e60" class="sites-navigation-link topLevel">Home</a></div>
                          </li>
                          <li class="topLevel parent " wuid="gx:535b3f3a2562e7ad">
                            <div dir="ltr" style="padding-left: 0px;">
                              <div class="expander"></div><a href="/avr-guide" jotId="wuid:gx:535b3f3a2562e7ad" class="sites-navigation-link topLevel">My Books</a>
                            </div>
                            <ul role="navigation" class="has-expander">
                              <li class="">
                                <div dir="ltr" style="padding-left: 38px;"><a href="/avr-guide" jotId="wuid:gx:5233ae16d3813d0e" class="sites-navigation-link">AVR GUIDE</a></div>
                              </li>
                            </ul>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="/avr-guide" jotId="wuid:gx:9d929f8c6b8e7ca" class="sites-navigation-link topLevel">Usefull Engineering Stuff</a></div>
                          </li>
                        </ul>
                      </div>
                    </div>
                    <div xmlns="http://www.w3.org/1999/xhtml" id="COMP_5818525579565211" class="sites-embed" role="navigation">
                      <h4 class="sites-embed-title">Resources</h4>
                      <div class="sites-embed-content sites-sidebar-nav">
                        <ul role="navigation" jotId="navList" class="has-expander">
                          <li class="topLevel nav-first ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://www.sparkfun.com" class="sites-navigation-link topLevel">Sparkfun</a></div>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://arduino.cc/en/Reference/HomePage" class="sites-navigation-link topLevel">Arduino Reference</a></div>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://www.eevblog.com/" class="sites-navigation-link topLevel">EEVBlog</a></div>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://fritzing.org/download/" class="sites-navigation-link topLevel">Fritzing Projects</a></div>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://www.adafruit.com/" class="sites-navigation-link topLevel">Ada Fruit</a></div>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://www.pololu.com/" class="sites-navigation-link topLevel">Pololu</a></div>
                          </li>
                          <li class="topLevel parent ">
                            <div dir="ltr" style="padding-left: 0px;">
                              <div class="expander"></div><a href="http://www.atmel.com" class="sites-navigation-link topLevel">Atmel</a>
                            </div>
                            <ul role="navigation" class="has-expander">
                              <li class="">
                                <div dir="ltr" style="padding-left: 38px;"><a href="https://ww1.microchip.com/downloads/aemDocuments/documents/MCU08/ProductDocuments/DataSheets/ATmega8A-Data-Sheet-DS40001974B.pdf" class="sites-navigation-link">Atmega8 Datasheet</a></div>
                              </li>
                              <li class="">
                                <div dir="ltr" style="padding-left: 38px;"><a href="https://ww1.microchip.com/downloads/en/DeviceDoc/ATmega48A-PA-88A-PA-168A-PA-328-P-DS-DS40002061B.pdf" class="sites-navigation-link">ATMega168/328 Datasheet</a></div>
                              </li>
                            </ul>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </td>
                  <td id="sites-canvas-wrapper">
                    <div id="sites-canvas" role="main">
                      <div id="goog-ws-editor-toolbar-container"> </div>
                      <div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs">
                        <A href="/avr-guide" dir="ltr">My Books</A> &gt; <A href="/avr-guide" dir="ltr">AVR GUIDE</A> &gt;
                      </div>
                      <h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" align="left">
                        <span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Setting Up AVR Software</span>
                      </h3>
                      <div id="sites-canvas-main" class="sites-canvas-main">
                        <div id="sites-canvas-main-content">
                          <div xmlns="http://www.w3.org/1999/xhtml" class="sites-layout-name-one-column-hf sites-layout-vbox">
                            <div class="sites-layout-tile sites-tile-name-header sites-layout-empty-tile">
                              <div dir="ltr"><br /></div>
                            </div>
                            <div class="sites-layout-tile sites-tile-name-content-1">
                              <div dir="ltr">
                                <font size="3"><b style="font-family:courier new,monospace">INTRODUCTION:</b></font><br /><br /><span>    </span>The Arduino environment is fairly simple.  This in itself is a HUGE pain in the ass for complex projects.  Modern day enviroments or (IDEs) have tons of great features that hey didn't have 5-10 years ago and a lot of the AVR guys tend to use <a href="https://ww1.microchip.com/downloads/archive/as5installer-5.0.1163-full.exe" target="_blank" rel="nofollow">AVR Studio</a> or <a href="http://www.pnotepad.org/" target="_blank" rel="nofollow">Programmers Notepad</a>.  Using these 2 environments does give us 1 big drawback.  And that is that they do not take advantage of the Arudino Bootloader.  The great news is that some smart people out there have figured out ways around this.  Ways that I will teach you ... you dirty smelly human .... oh sorry ... too much portal 2.<br /><br /><br />
                                <hr />
                                <div><br /></div>
                                <div><br />
                                  <font face="'courier new', monospace" size="3"><b>SOFTWARE:</b></font>
                                </div>
                                <div><br /></div>
                                <div><span>    When it comes to AVR programming software, my drug of choice is the C language and AVR Studio,  AVR Studio 5 has just come out in beta and is much more stable then AVR Studio 4 (which has been around forever).  So lets begin should we?</span><br /></div>
                                <div><br /></div>
                                <div><br /></div>
                                <div><br /></div>
                                <div><i>Step 1: Download/Install (in order):</i></div>
                                <div>
                                  <ul>
                                    <ul>
                                      <li><a href="http://winavr.sourceforge.net/" target="_blank" rel="nofollow"><b>AVR WIN</b></a></li>
                                      <li><a href="http://www.atmel.com/microsite/avr_studio_5/default.asp?source=cms&amp;icn=hmap1-AVR_STUDIO&amp;ici=apr_2011" target="_blank" rel="nofollow"><b>AVR Studio 5</b></a> or <a href="http://www.atmel.com/dyn/products/tools_card.asp?tool_id=2725" target="_blank" rel="nofollow">AVR Studio 4</a></li>
                                      <li><a href="http://www.ngcoders.com/downloads/arduino-hex-uploader-and-programmer" target="_blank" rel="nofollow"><b>AVR HEX Uploader</b></a></li>
                                    </ul>
                                  </ul>
                                </div>
                                <blockquote style="margin:0pt 0pt 0pt 40px;border:medium none;padding:0px"><span>    </span>
                                  <div><br /></div>
                                  <div><span>    </span>AVR WIN is the C environment, unless you want to program in assembly your gonna need this.</div>
                                  <div>
                                    <blockquote style="margin:0pt 0pt 0pt 40px;border:medium none;padding:0px">
                                      <div><br /></div>
                                    </blockquote>
                                  </div>
                                  <div><span>    </span>AVR Studio is the IDE.  If you have AVR WIN installed it will integrates itself into AVR Studios.  I love it.</div>
                                  <div>
                                    <blockquote style="margin:0pt 0pt 0pt 40px;border:medium none;padding:0px">
                                      <div><br /></div>
                                    </blockquote>
                                  </div>
                                  <div><span>    </span>AVR Hex Uploader allows you to ... well upload .hex files (that AVR studio Generates) into the chip over thanks to the Arduino Bootloader.  The bootloader is basically a small program that gets executed whenever you reset the AVR and, look for any incoming data streams that contains an AVR program.</div>
                                </blockquote>
                                <div></div>
                                <div><br /></div>
                                <div><br /></div>
                                <div><br /></div>
                                <div><i>Step 2: Verify that GCC is enabled:</i></div>
                                <div><br /></div>
                                <div><br /></div>
                                <blockquote style="margin:0pt 0pt 0pt 40px;border:medium none;padding:0px">
                                  <div><span>    Now when you start a new project you will have the option to create a AVR-GCC file.  If this option comes up then your on the right track.  If it doesn't it means that AVR-WIN didn't install properly, try rebooting before you reinstall.</span></div>
                                  <div><span><br /></span></div>
                                  <div><span>
                                      <div style="display:block;text-align:left"><img border="0" src="/avr-guide/getting-started-with-avr-software/AvrStudio5%20-%20New%20Project.JPG" /></div>
                                    </span></div>
                                  <div><span>
                                      <font face="'courier new', monospace"><i>Figure 1: AVR Studio 5 Starting a AVR GCC project</i></font>
                                    </span></div>
                                  <div><span><br /></span></div>
                                  <div><span><br /></span></div>
                                  <div><span>
                                      <div style="display:block;text-align:left"><img border="0" src="/avr-guide/getting-started-with-avr-software/AvrStudio4%20-%20New%20Project.JPG" /></div>
                                    </span></div>
                                  <div><span>
                                      <font face="'courier new', monospace"><i>Figure 2: AVR Studio 4 Starting a AVR GCC project</i></font>
                                    </span></div>
                                </blockquote>
                                <div><span><br /></span></div>
                                <div><br /></div>
                                <div><br /></div>
                                <div><i>Step 3: Setup Hex File Output:</i></div>
                                <div><br /></div>
                                <blockquote style="margin:0pt 0pt 0pt 40px;border:medium none;padding:0px">
                                  <div><span>    Next you have to enable the .hex file output.  This is not done by default so here are the steps.</span></div>
                                  <div><br /></div>
                                  <div>
                                    <div style="display:block;text-align:left"><a href="/avr-guide/getting-started-with-avr-software/AvrStudio5%20-%20Hex%20File.JPG?attredirects=0" imageanchor="1"><img border="0" height="167" src="/avr-guide/getting-started-with-avr-software/AvrStudio5%20-%20Hex%20File.JPG?height=167&amp;width=400" width="400" /></a></div>
                                  </div>
                                  <div>
                                    <font face="'courier new', monospace"><i>Figure 3: AVR Studio 5 - Enable .hex file output</i></font>
                                  </div>
                                  <div><br /></div>
                                  <div><span>    In AVR Studio 5, right clock  on the project name in the Solution Explorer (right side) and select <b>Edit Configuration Options</b>, go to the Build tab (should be there by default), and make sure that <b>.hex is checked</b>.</span></div>
                                  <div><br /></div>
                                  <div><br /></div>
                                  <div>
                                    <div style="display:block;text-align:left"><a href="/avr-guide/getting-started-with-avr-software/AvrStudio4%20-%20Hex%20File.JPG?attredirects=0" imageanchor="1"><img border="0" height="216" src="/avr-guide/getting-started-with-avr-software/AvrStudio4%20-%20Hex%20File.JPG?height=216&amp;width=400" width="400" /></a></div>
                                  </div>
                                  <div>
                                    <font face="'courier new', monospace"><i>Figure 4: AVR Studio 4 - Enable .hex file output</i></font>
                                  </div>
                                  <div><br /></div>
                                  <div><span>    In AVR Studio 4 right click on the project name in the left drop-down, then select <b>Properties</b>, and make sure that <b>Create Hex File is checked</b>.</span></div>
                                </blockquote>
                                <div></div>
                                <div><br /></div>
                                <blockquote style="margin:0pt 0pt 0pt 40px;border:medium none;padding:0px">
                                  <div><span>    Now whenever you hit F7 the project will be built and a hex file will be generated.  The hex file will be located in the 'default' folder of the project.</span></div>
                                </blockquote>
                                <div><br /></div>
                                <div><br /></div>
                                <div><br /></div>
                                <div><i>Step 4: Uploading the .hex file:</i></div>
                                <div><br /></div>
                                <blockquote style="margin:0pt 0pt 0pt 40px;border:medium none;padding:0px">
                                  <div><span>    Now, in order for the next step to work you have to have a Bootloader installed on your AVR.  If you are using the Arduino kit it comes pre-installed, If however, you simply purchased an AVR chip from Digikey you will not have a bootloader installed.  The good news is that <a href="http://www.arduino.cc/playground/" target="_blank" rel="nofollow">Arduino Playground</a> already has a simple tutorial on installing a bootloader.  <a href="http://arduino.cc/en/Hacking/Bootloader?from=Main.Bootloader" target="_blank" rel="nofollow">LINKY LINKY LINKY</a>.  <br /><br /><span>    </span>And here is something really kewl, Hexskrew over at the Arduino forums came up with a bootloader for the ATmega32L chip.  The ATmega32L is the big brother of the ATmega8 and most of the ATmega8 code should work on it.  Huge props to him for getting this working.  <a href="http://arduino.cc/forum/index.php/topic,52223.msg372392.html#msg372392" style="background-color:rgb(255,229,153);color:rgb(0,0,255)" target="_blank" rel="nofollow">
                                        <font size="3"><b>UBER LINKY !!!</b></font>
                                      </a><br style="background-color:rgb(255,229,153)" /><br /><span>    </span>Now, if you wish to skip the bootloader and you have an AVR ISP you could just upload the file directly to the AVR.  The advantage of doing so is that you save some memory (as the bootloader takes up about 1k mem) but the disadvantage is that you have to have an ISP programmer AND that you cant stream the hex file over wireless.  <a href="http://www.sparkfun.com" target="_blank" rel="nofollow">Sparkfun</a> has a great <a href="http://www.sparkfun.com/tutorials/93" target="_blank" rel="nofollow">tutorial</a> on the none bootloader way.<br /></span></div>
                                </blockquote>
                                <div><br /></div>
                                <div><br /></div>
                                <blockquote style="margin:0pt 0pt 0pt 40px;border:medium none;padding:0px">
                                  <div>
                                    <div style="display:block;text-align:left"><img border="0" src="Arduino%20Uploader.JPG" /></div>
                                  </div>
                                  <div>
                                    <font face="'courier new', monospace"><i>Figure 5: Arduino Uploader</i></font>
                                  </div>
                                  <div><br /></div>
                                  <div><span>    The program is fairly simple, select the com port that your Arduino is on, Select your micro-controller (most arduino boards these days come with ATmega328 so select m328).  The biggest that you really have to do is change the baud rate.  The program default is 19200 however, the ATmega328 baud rate is 57600 so you have to edit the setting in the text box and hit Upload.</span></div>
                                </blockquote>
                                <div><br /></div>
                                <blockquote style="margin:0pt 0pt 0pt 40px;border:medium none;padding:0px">
                                  <div>
                                    <div style="display:block;text-align:left"><a href="/avr-guide/getting-started-with-avr-software/Arduino%20Uploader2.JPG?attredirects=0" imageanchor="1"><img border="0" height="199" src="/avr-guide/getting-started-with-avr-software/Arduino%20Uploader2.JPG?height=199&amp;width=400" width="400" /></a></div>
                                  </div>
                                  <div><i>
                                      <font face="'courier new', monospace">Figure 6: AVRDUDE Upload Box</font>
                                    </i></div>
                                </blockquote>
                                <div><br /></div>
                                <blockquote style="margin:0pt 0pt 0pt 40px;border:medium none;padding:0px">
                                  <div><span>    </span>When you hit upload the Arduino Uploader will start AVRDUDE(<a href="http://savannah.nongnu.org/projects/avrdude" target="_blank" rel="nofollow">AVRDUDE</a> comes with the Uploader) which will upload the program to your Arduino.</div>
                                </blockquote>
                                <div></div>
                                <div><br /><br />
                                  <font size="3"><i style="font-family:courier new,monospace">
                                      <font size="2" style="font-family:verdana,sans-serif">Step 5: Flashing AVR hex files over Xbee (wireless)</font><br />
                                    </i></font><br />
                                  <div style="margin-left:40px"><span>    </span>This is the kewlest tutorial that <a href="http://www.sparkfun.com" target="_blank" rel="nofollow">Sparkfun</a> has ever done.  My own writeup would just pale in comparison.  <a href="http://www.sparkfun.com/tutorials/122" target="_blank" rel="nofollow">LINKY LINKY LINKY!!!</a><br /></div><br />
                                </div>
                                <div><br />
                                  <hr size="2" width="100%" /><br />
                                </div>
                                <div><br /><br /></div>
                                <div><span>    </span>Well thats it, short and sweet.</div>
                                <div><br /></div>
                                <blockquote style="margin:0pt 0pt 0pt 40px;border:medium none;padding:0px">
                                  <div>"They told me that I ought to stop making these pre-recorded messages, that gave me an idea, make more pre-recorded messages, I play the bills around here, I can talk about the control groups all dam day."  </div>
                                  <div>- Cave Johnson</div>
                                </blockquote>
                                <div><br /></div>
                                <div><br /></div>
                                <div><br /></div>
                                <div>Cheers</div>
                                <div>Q</div>
                                <div><br /></div>
                                <div><br /></div>
                                <div><br /></div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
              </table>
            </div>
          </div>
          <div id="sites-chrome-footer-wrapper">
            <div id="sites-chrome-footer-wrapper-inside">
              <div id="sites-chrome-footer">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

</html>