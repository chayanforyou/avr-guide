<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">

<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1" />
  <link rel="shortcut icon" type="image/x-icon" href="//www.google.com/images/icons/product/sites-16.ico" />
  <link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/5acb68/system/app/images/apple-touch-icon.png" type="image/png" />

  <meta name="title" content="Advance Bit Math - QEEWiki" />
  <meta itemprop="name" content="Advance Bit Math - QEEWiki" />
  <meta property="og:title" content="Advance Bit Math - QEEWiki" />
  <meta name="description" content="Q's Electrical Engineering Wiki" />
  <meta itemprop="description" content="Q's Electrical Engineering Wiki" />
  <meta id="meta-tag-description" property="og:description" content="Q's Electrical Engineering Wiki" />
  <style type="text/css">
  </style>
  <link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/5acb68/system/app/themes/simple/standard-css-simple-ltr-ltr.css" />
  <link rel="stylesheet" type="text/css" href="/site/qeewiki/_/rsrc/1601537872000/system/app/css/overlay.css?cb=simple960px70175goog-ws-leftnonethemedefaultstandard" />
  <link rel="stylesheet" type="text/css" href="/site/qeewiki/_/rsrc/1601537872000/system/app/css/camelot/allthemes-view.css" />

  <title>Advance Bit Math - QEEWiki</title>
</head>

<body xmlns="http://www.google.com/ns/jotspot" id="body" class="en">
  <div id="sites-page-toolbar" class="sites-header-divider">
    <div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;">
      <div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div>
    </div>
  </div>
  <div id="sites-chrome-everything-scrollbar">
    <div id="sites-chrome-everything" class="">
      <div id="sites-chrome-page-wrapper" style="direction: ltr">
        <div id="sites-chrome-page-wrapper-inside">
          <div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper">
            <table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0">
              <tr class="sites-header-primary-row" id="sites-chrome-userheader">
                <td id="sites-header-title" class="" role="banner" style="height: 70px">
                  <div class="sites-header-cell-buffer-wrapper">
                    <h2><a href="/avr-guide" dir="ltr" id="sites-chrome-userheader-title">QEEWiki</a></h2>
                  </div>
                </td>
              </tr>
              <tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
                <td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
                </td>
              </tr>
            </table>
          </div>
          <div id="sites-chrome-main-wrapper">
            <div id="sites-chrome-main-wrapper-inside">
              <table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
                <tr>
                  <td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:175px">
                    <div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed" role="navigation">
                      <h4 class="sites-embed-title">Navigation</h4>
                      <div class="sites-embed-content sites-sidebar-nav">
                        <ul role="navigation" jotId="navList" class="has-expander">
                          <li class="topLevel nav-first ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="https://github.com/chayanforyou" jotId="wuid:gx:3b2a480be041e60" class="sites-navigation-link topLevel">Home</a></div>
                          </li>
                          <li class="topLevel parent " wuid="gx:535b3f3a2562e7ad">
                            <div dir="ltr" style="padding-left: 0px;">
                              <div class="expander"></div><a href="/avr-guide" jotId="wuid:gx:535b3f3a2562e7ad" class="sites-navigation-link topLevel">My Books</a>
                            </div>
                            <ul role="navigation" class="has-expander">
                              <li class="">
                                <div dir="ltr" style="padding-left: 38px;"><a href="/avr-guide" jotId="wuid:gx:5233ae16d3813d0e" class="sites-navigation-link">AVR GUIDE</a></div>
                              </li>
                            </ul>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="/avr-guide" jotId="wuid:gx:9d929f8c6b8e7ca" class="sites-navigation-link topLevel">Usefull Engineering Stuff</a></div>
                          </li>
                        </ul>
                      </div>
                    </div>
                    <div xmlns="http://www.w3.org/1999/xhtml" id="COMP_5818525579565211" class="sites-embed" role="navigation">
                      <h4 class="sites-embed-title">Resources</h4>
                      <div class="sites-embed-content sites-sidebar-nav">
                        <ul role="navigation" jotId="navList" class="has-expander">
                          <li class="topLevel nav-first ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://www.sparkfun.com" class="sites-navigation-link topLevel">Sparkfun</a></div>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://arduino.cc/en/Reference/HomePage" class="sites-navigation-link topLevel">Arduino Reference</a></div>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://www.eevblog.com/" class="sites-navigation-link topLevel">EEVBlog</a></div>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://fritzing.org/download/" class="sites-navigation-link topLevel">Fritzing Projects</a></div>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://www.adafruit.com/" class="sites-navigation-link topLevel">Ada Fruit</a></div>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://www.pololu.com/" class="sites-navigation-link topLevel">Pololu</a></div>
                          </li>
                          <li class="topLevel parent ">
                            <div dir="ltr" style="padding-left: 0px;">
                              <div class="expander"></div><a href="http://www.atmel.com" class="sites-navigation-link topLevel">Atmel</a>
                            </div>
                            <ul role="navigation" class="has-expander">
                              <li class="">
                                <div dir="ltr" style="padding-left: 38px;"><a href="https://ww1.microchip.com/downloads/aemDocuments/documents/MCU08/ProductDocuments/DataSheets/ATmega8A-Data-Sheet-DS40001974B.pdf" class="sites-navigation-link">Atmega8 Datasheet</a></div>
                              </li>
                              <li class="">
                                <div dir="ltr" style="padding-left: 38px;"><a href="https://ww1.microchip.com/downloads/en/DeviceDoc/ATmega48A-PA-88A-PA-168A-PA-328-P-DS-DS40002061B.pdf" class="sites-navigation-link">ATMega168/328 Datasheet</a></div>
                              </li>
                            </ul>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </td>
                  <td id="sites-canvas-wrapper">
                    <div id="sites-canvas" role="main">
                      <div id="goog-ws-editor-toolbar-container"> </div>
                      <div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs">
                        <A href="/avr-guide" dir="ltr">My Books</A> &gt; <A href="/avr-guide" dir="ltr">AVR GUIDE</A> &gt;
                      </div>
                      <h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" align="left">
                        <span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Advance Bit Math</span>
                      </h3>
                      <div id="sites-canvas-main" class="sites-canvas-main">
                        <div id="sites-canvas-main-content">
                          <div xmlns="http://www.w3.org/1999/xhtml" class="sites-layout-name-one-column-hf sites-layout-vbox">
                            <div class="sites-layout-tile sites-tile-name-header sites-layout-empty-tile">
                              <div dir="ltr"><br /></div>
                            </div>
                            <div class="sites-layout-tile sites-tile-name-content-1">
                              <div dir="ltr">
                                <div>
                                  <b>
                                    <font face="'courier new', monospace"><span style="font-size:medium">QUICK REVIEW OF THE PREVIOUS LESSON:</span></font>
                                  </b><br /><br />
                                  <table border="1" bordercolor="#888888" cellspacing="0" style="border-collapse:collapse;border-color:rgb(136,136,136);border-width:1px">
                                    <tbody>
                                      <tr>
                                        <td style="text-align:center;width:109px;height:16px"><b> SHIFT LEFT<br /></b></td>
                                        <td style="text-align:center;width:101px;height:16px"><b> SHIFT RIGHT<br /></b></td>
                                        <td style="text-align:center;width:93px;height:16px"><b> NOT</b></td>
                                        <td style="text-align:center;width:110px;height:16px"><b> AND</b></td>
                                        <td style="text-align:center;width:105px;height:16px"><b> OR</b></td>
                                        <td style="text-align:center;width:112px;height:16px"><b> XOR<br /></b></td>
                                      </tr>
                                      <tr>
                                        <td style="text-align:center;color:rgb(255,0,0);width:109px;height:16px"><b> &lt;&lt;</b></td>
                                        <td style="text-align:center;color:rgb(255,0,0);width:101px;height:16px"><b> &gt;&gt;</b></td>
                                        <td style="text-align:center;color:rgb(255,0,0);width:93px;height:16px"><b> ~</b></td>
                                        <td style="text-align:center;color:rgb(255,0,0);width:110px;height:16px"><b> &amp;</b></td>
                                        <td style="text-align:center;color:rgb(255,0,0);width:105px;height:16px"><b> |</b></td>
                                        <td style="text-align:center;color:rgb(255,0,0);width:112px;height:16px"><b> ^</b></td>
                                      </tr>
                                      <tr>
                                        <td style="width:109px;height:112px"> <br />
                                          <div style="text-align:center"><span style="color:rgb(0,0,255)">1 &lt;&lt; 2</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)"> =</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">0000 0100</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">or</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">4</span><br /></div><br />
                                        </td>
                                        <td style="width:101px;height:112px"> <br />
                                          <div style="text-align:center;color:rgb(0,0,255)">8 &gt;&gt; 2<br />=<br />0000 0010<br />or<br />2<br /></div>
                                        </td>
                                        <td style="width:93px;height:112px"> <br /><br />
                                          <div style="text-align:center;color:rgb(0,0,255)">~0 = 1<br />~1 = 0<br /></div>
                                        </td>
                                        <td style="width:110px;height:112px"> <br />
                                          <div style="text-align:center;color:rgb(0,0,255)">0 &amp; 0 = 0<br />0 &amp; 1 = 0<br />1 &amp; 0 = 0<br />1 &amp; 1 = 1<br /></div>
                                        </td>
                                        <td style="width:105px;height:112px"> <br />
                                          <div style="text-align:center;color:rgb(0,0,255)">0 | 0 = 0<br />0 | 1 = 1<br />1 | 0 = 1<br />1 | 1 = 1<br /></div>
                                        </td>
                                        <td style="width:112px;height:112px"> <br />
                                          <div style="text-align:center;color:rgb(0,0,255)">0 ^ 0 = 0<br />0 ^ 1 = 1<br />1 ^ 0 = 1<br />1 ^ 1 = 0<br /></div>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table><br /><span>    </span>In the previous chapter we discussed the basics of bit math. The good news is that we don’t have to learn any more operations; We are simply going to discuss some abbreviations and common multi-operation formulas. Once again a warning, if you do not understand the information in the <a href="/avr-guide/c-bit-math">Bit Math Chapter</a> please re-read it, this chapter builds heavily on the theory introduced in the previous chapter.<br /><br /><br />
                                  <hr size="2" width="100%" /><br /><br /><b>
                                    <font face="'courier new', monospace"><span style="font-size:medium">ABBREVIATIONS:</span></font>
                                  </b><br /><br /><span>    </span>Most of the time, we are going to take a register, read its value, perform an operation and load the new value back into the same register. Previously, I had always used “i = i &lt;operation&gt; #” in order to show this. However, there is an easier way that seems to be the preferred way among micro-controller programmers. <br /><br /><span>    </span>If you use “&lt;operand&gt;=” (eg. “|=” for OR) the compiler will assume that your using the destination register data, performing an operation on it and then writing it back into itself. <br /><br />Confused? Hopefully this code example will clarify things a bit.<br /><br />
                                </div>
                                <div>
                                  <div class="sites-codeblock sites-codesnippet-block"><code>i &lt;&lt;= 1;</code><span><code>    </code></span><code>// is the same as i = i &lt;&lt; 1</code><br /><code>i &gt;&gt;= 2;</code><span><code>    </code></span><code>// is the same as i = i &gt;&gt; 2</code><br /><code>i ~=;</code><span><code>    </code></span><span><code>   </code></span><code>// is the same as i = ~i</code><br /><code>i &amp;= 3</code><code>;</code><span><code>    </code></span><code> // is the same as i = i &amp; 3</code><br /><code>i |= 4;</code><span><code>     </code></span><code>// is the same as i = i | 4</code><br /><code>i ^=5;</code><span><code>      </code></span><code>// is the same as i = i ^ 5</code></div><br />
                                </div>
                                <div><span>    </span>From now on we will see this a lot. But don’t worry, I will include the long hand version when I’m solving the equations.<br /><br /><br />
                                  <hr size="2" width="100%" /><br /><br /><b><span style="font-family:courier new,monospace"><span style="font-size:medium">MASKING:</span></span></b><br /><br /><span>    </span>Definitely not as fun as Halloween, but a lot more useful. <br /><br /><span>    </span>When we are working with registers we are generally interested in the status of specific bits, the best way to get the information about specific bits is to build what is called a mask.  A mask is simply a number (in binary) that contains 1s in the bits that we are interested in.<br /><br /><span>    </span>Say we want to do work on the 3 bit and the 5 bit, we would create a mask that looks like this 0010 1000 (remember the first bit is a 0bit not a 1s bit therefore the highest bit is the 7th bit not the 8th bit …  terminology, it will get you all the time). The 0s represent the bits that we are not interested in and the 1s represent the bits that we are interested in.<br /><br /><span>    </span>So now remember back last chapter, the AND operation caused a TRUE(1) if both numbers have the same bits TRUE(1). So if we take our mask and AND it with the original register, we will end up with a value of 0 if the 3th and/or the 5th bit isn’t true and a value greater then 1 one or both of the registers are true.<br /><br />
                                </div>
                                <div>
                                  <div class="sites-codeblock sites-codesnippet-block"><code>x = 64;</code><br /><code>y = x &amp; 0b00101000;</code><code><span>    </span>// y = 0 if 5th or 7th bits are not true, and y&gt;0 if one or <span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>  // </span>both</code><code> are true</code></div><br /><br /><span>    </span>Mathematically here is what we did above:<br /><br />
                                  <div style="margin-left:40px"><span style="color:rgb(0,0,255)">   0100 0000        x (set to 64 on the first line)</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">&amp; 0010 1000        mask (created with 0b00101000 on the second line)</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">   ----------</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">   0000 0000        result, loaded into y</span><br style="color:rgb(0,0,255)" /></div><br /><br /><span>    </span>Now while the above code works, most programmers will not build a mask in such a way; 00101000 looks confusing and it is only an 8 bit register, can you imagine how confusing a 16bit or 32 bit register will be? Instead, most will use a combination of a BIT SHIFT LEFT and an OR in order to create a mask as follows:<br /><br />
                                </div>
                                <div class="sites-codeblock sites-codesnippet-block"><code>x = 64;</code><br /><code>y = x &amp; ( (1&lt;&lt;5) | (1&lt;&lt;3) );</code></div><br /><br /><span>    </span>Mathematically here is what we did:<br /><br /><br />
                                <div style="margin-left:40px"><span style="color:rgb(0,0,255)">Solve the brackets:</span><br /><br /></div>
                                <div style="margin-left:80px"><span style="color:rgb(0,0,255)">(1 &lt;&lt; 3) <span>    </span> <br />creates 0000 0001<br />shift it left by 3 to get 0000 1000</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)"><br />(1 &lt;&lt; 5) <span>    </span> <br />create 0000 0001 <br />shift it left by 5 to get  0010 0000</span><br style="color:rgb(0,0,255)" /><br /><br /></div>
                                <div style="margin-left:40px"><span style="color:rgb(0,0,255)"><span> </span>Rearranged to solve the ( (1&lt;&lt;5) | (1&lt;&lt;3) ) part of the equation:</span><br /></div>
                                <div>
                                  <div>
                                    <div style="margin-left:40px">
                                      <div style="margin-left:40px"><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">   0000 1000<span>    </span>(1 &lt;&lt; 3)</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">| 0010 0000 <span>    </span>(1 &lt;&lt; 5)</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">  ----------</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">  0010 1000 <span>    </span> notice that we just created 0b00101000</span><br style="color:rgb(0,0,255)" /><br /><br /></div><span style="color:rgb(0,0,255)">Substitute:</span><br />
                                    </div>
                                    <div>
                                      <div style="margin-left:40px"></div>
                                      <div style="margin-left:80px"><span style="color:rgb(0,0,255)"><br /></span></div>
                                      <div style="margin-left:80px"><span style="color:rgb(0,0,255)">y = x &amp; 0010 1000</span><br /></div>
                                      <div style="margin-left:40px">
                                        <div style="margin-left:40px"><br /><br /></div><span style="color:rgb(0,0,255)">Now rearrange to solve:</span><br />
                                      </div>
                                      <div>
                                        <div style="margin-left:80px"><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">   0100 0000     x (set to 64 on the first line)</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">&amp; 0010 1000 <span>    </span>mask (created with ( ((1&lt;&lt;5) | (1&lt;&lt;3)) )</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">   ----------</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">   0000 0000 <span>    </span>result, loaded into y</span></div><br /><br /><span>    </span>You might wonder, why create so much math, the answer is simple, anytime you see (1 &lt;&lt; X) you can automatically think that you are putting a 1 into the nth spot of the register.  Or make a mask (in binary) a 1 with X Zeros behind it.<br /><br /><br />
                                        <hr size="2" width="100%" /><br /><br /><b style="font-family:courier new,monospace"><span style="font-size:medium">PUTTING IT ALL TOGETHER:</span></b><br /><br /><span><span>    Yes you can put both of the above lessons together</span></span> so lets take y and set the 3 bit and store the value back into y.<br /><br />
                                        <div class="sites-codeblock sites-codesnippet-block"><code>y = 64; </code><br /><code>y |= (1&lt;&lt;3);</code><span><br /></span></div><br /><br />
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <blockquote style="margin:0pt 0pt 0pt 40px;border:medium none;padding:0px">
                                  <div>
                                    <div>
                                      <div>
                                        <div><span style="color:rgb(0,0,255)">Expand:</span></div>
                                      </div>
                                    </div>
                                  </div>
                                  <div>
                                    <div>
                                      <div>
                                        <div><span style="color:rgb(0,0,255)"><br /></span></div>
                                      </div>
                                    </div>
                                  </div>
                                  <div>
                                    <div>
                                      <div>
                                        <div><span style="color:rgb(0,0,255)">
                                            <div style="margin-left:40px"><span>y = y | (1 &lt;&lt; 3)</span></div>
                                          </span></div>
                                      </div>
                                    </div>
                                  </div>
                                </blockquote>
                                <div>
                                  <div>
                                    <div>
                                      <div><span style="color:rgb(0,0,255)">
                                          <div><span><br /></span></div>
                                        </span></div>
                                      <div><br /></div>
                                      <div>
                                        <div style="margin-left:40px;color:rgb(0,0,255)"><span>Solve the brackets:</span><br /><br />
                                          <div style="margin-left:40px">(1 &lt;&lt; 3) <span>    </span><br />creates 0000 0001 <br />shift it left by 3 to get a 0000 1000<br /></div> <br /><br />Substitute:<br /><br />
                                          <div style="margin-left:40px">y = y | 0000 1000<br /></div><br /><br />And finally rearrange to solve:<br /><br />
                                          <div style="margin-left:40px">   0100 0000     y (set to 64 on the first line)<br />| 0000 1000 <span>    </span>mask (created with (1&lt;&lt;3) )<br />   ----------<br />   0100 1000 <span>    </span>result, loaded into y<br /></div>
                                        </div>
                                        <div style="color:rgb(0,0,255)"><br /><br /></div>
                                        <div style="color:rgb(0,0,255)">
                                          <hr />
                                        </div>
                                        <div style="color:rgb(0,0,255)"><br /></div>
                                        <div style="color:rgb(0,0,255)">
                                          <font color="#000000"><br /><b><span style="font-family:courier new,monospace"><span style="font-size:medium">COMMONLY USED EQUATIONS:</span></span></b><br /><br /><span>    </span>There are 4 major equations that you will see all over the place when dealing with a micro controller, so lets examine them to debunk any myths or questions. <br /><br /><span><span>    Set Bit, Clear bit and flip bit are most commonly used for outputs. and Get Bit bit is often used for inputs.</span></span><br /><br /><br /><i style="font-family:courier new,monospace">Set Bit:</i><br /><br /><span>    </span>This equation is used to set a single bit in a register, lets set the 2 bit in the PORTB register.<br /><br />
                                            <div class="sites-codeblock sites-codesnippet-block"><code>PORTB = 8;</code><br /><code>PORTB |= (1 &lt;&lt; 2)</code><code>;</code></div><br /><br />
                                          </font>
                                        </div>
                                        <div style="color:rgb(0,0,255)">
                                          <font color="#000000"><span style="color:rgb(0,0,255)">
                                              <div style="margin-left:40px">Expand:<br /><br /></div>
                                              <div style="margin-left:40px">
                                                <div style="margin-left:40px"><span>PORTB = PORTB | (1 &lt;&lt; 2)</span><br /></div><br />
                                              </div>
                                            </span></font>
                                        </div>
                                        <div><br /></div>
                                        <div style="color:rgb(0,0,255)">
                                          <div style="margin-left:40px">Solve the brackets:<br /><br /></div>
                                          <div style="margin-left:40px">
                                            <div style="margin-left:40px">(1 &lt;&lt; 2) <span>    </span><br />creates 0000 0001 <br />shift it left by 2 to get a 0000 0100<br /></div><br /><br />Substitute:<br /><br />
                                          </div>
                                          <div style="margin-left:40px">
                                            <div style="margin-left:40px">PORTB = PORTB | 0000 0100<br /></div><br /><br />
                                          </div>
                                          <div style="margin-left:40px">And finally rearrange to solve:<br /><br /></div>
                                          <div style="margin-left:40px">
                                            <div style="margin-left:40px">   0000 1000     PORTB (set to 8 on the first line)<br />| 0000 0100 <span>    </span>mask (created with (1&lt;&lt;2) )<br />   ----------<br />   0000 1100 <span>    </span>result, loaded into PORTB<br /></div><br /><br /><br />
                                          </div>
                                          <font color="#000000"><i style="font-family:courier new,monospace">Clear Bit:</i><br /></font>
                                        </div>
                                        <div style="color:rgb(0,0,255)">
                                          <font color="#000000"><br /><span>    This equation is used to clear a specific bit in a register</span>, lets clear the 5 bit in the PORTC register.<br /><br />
                                            <div class="sites-codeblock sites-codesnippet-block"><code>PORTC = 34;</code><br /><code>PORTC &amp;= ~(1 &lt;&lt; 5);</code></div><br /><br />
                                          </font>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <blockquote style="margin:0pt 0pt 0pt 40px;border:medium none;padding:0px">
                                  <div>
                                    <div>
                                      <div>
                                        <div>
                                          <div style="color:rgb(0,0,255)">
                                            <font color="#000000"><span style="color:rgb(0,0,255)">
                                                <font color="#000000" style="color:rgb(0,0,255)">Expand:</font>
                                              </span></font>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div>
                                    <div>
                                      <div>
                                        <div>
                                          <div style="color:rgb(0,0,255)">
                                            <font color="#000000"><span style="color:rgb(0,0,255)"><br /></span></font>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div>
                                    <div>
                                      <div>
                                        <div>
                                          <div style="color:rgb(0,0,255)">
                                            <font color="#000000"><span style="color:rgb(0,0,255)">
                                                <div style="margin-left:40px">
                                                  <font color="#000000" style="color:rgb(0,0,255)"><span>PORTC = PORTC &amp; ~(1 &lt;&lt; 5)</span></font>
                                                </div>
                                              </span></font>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </blockquote>
                                <div>
                                  <div>
                                    <div>
                                      <div>
                                        <div style="color:rgb(0,0,255)">
                                          <font color="#000000"><br /></font>
                                        </div>
                                        <div style="color:rgb(0,0,255)">
                                          <font color="#000000"><br style="color:rgb(0,0,255)" /></font>
                                          <div style="margin-left:40px">
                                            <font color="#000000"><span style="color:rgb(0,0,255)">Solve the brackets:</span></font><br style="color:rgb(0,0,255)" /><br style="color:rgb(0,0,255)" />
                                          </div>
                                          <div style="margin-left:80px;color:rgb(0,0,255)">(1 &lt;&lt; 5)<br />creates 0000 0001<br />shift it left by 5 to get 0010 0000<br /></div>
                                          <div style="margin-left:40px"><br /><br />
                                            <font color="#000000" style="color:rgb(0,0,255)">Substitute:</font><br /><br />
                                          </div>
                                          <div style="margin-left:80px;color:rgb(0,0,255)">PORTC = PORTC &amp; ~(0010 0000)<br /></div>
                                          <div style="margin-left:40px"><br /><br />
                                            <font color="#000000" style="color:rgb(0,0,255)">NOT the brackets: </font><br />
                                          </div>
                                          <div style="margin-left:80px;color:rgb(0,0,255)"><br />~(...) to get 1101 1111<br /></div>
                                          <div style="margin-left:40px"><br /><br />
                                            <font color="#000000" style="color:rgb(0,0,255)">Substitute:</font><br /><br />
                                          </div>
                                          <div style="margin-left:80px;color:rgb(0,0,255)">PORTC = PORTC &amp; 1101 1111</div>
                                          <div style="margin-left:40px"><br /><br />
                                            <font color="#000000" style="color:rgb(0,0,255)">Rearrange to solve:</font><br /><br />
                                          </div>
                                          <div style="margin-left:40px">
                                            <div style="margin-left:40px"><span style="color:rgb(0,0,255)">     0010 0010     PORTC (set to 34 on the first line)</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)"> 
                                                &amp; 1101 1111     mask (created with (1&lt;&lt;5) )</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">
                                                     ----------</span><br style="color:rgb(0,0,255)" /><span style="color:rgb(0,0,255)">
                                                     0000 0010     result, loaded into PORTC</span><br /></div>
                                          </div>
                                          <font color="#000000"><br /><br /><br /><i style="font-family:courier new,monospace">Flip Bit:</i><br /><br /><span>    </span>If you want to flip the value of a bit in the register, so lets flip bit 5 in the PORTD register.<br /><br />
                                            <div class="sites-codeblock sites-codesnippet-block">
                                              <font>
                                                <font color="#000000"><code>PORTD = 8;</code></font>
                                              </font><br /><code>PORTD ^= (1 &lt;&lt; 5);</code>
                                            </div><br /><br />
                                          </font>
                                        </div>
                                        <div style="color:rgb(0,0,255)">
                                          <font color="#000000"><span style="color:rgb(0,0,255)">
                                              <div style="margin-left:40px">Expand:<br /><br /></div>
                                              <div style="margin-left:40px">
                                                <div style="margin-left:40px"><span>PORTD = PORTD ^ 0010 0000</span></div>
                                              </div>
                                            </span></font>
                                        </div>
                                        <div style="color:rgb(0,0,255)">
                                          <font color="#000000"><br /></font>
                                          <div style="margin-left:40px">Solve the brackets:<br /><br /></div>
                                          <div style="margin-left:40px">
                                            <div style="margin-left:40px">(1 &lt;&lt; 5) <span>    </span><br />creates 0000 0001 <br />shift it left by 5 to get a 0010 0000<br /></div><br /><br />Substitute:<br /><br />
                                          </div>
                                          <div style="margin-left:40px">
                                            <div style="margin-left:40px">PORTD = PORTD ^ 0010 0000</div>
                                          </div>
                                          <div style="margin-left:40px"><br /><br />And finally rearrange to solve:<br /><br /></div>
                                          <div style="margin-left:40px">    0000 1000     PORTD (set to 8 on the first line)<br />^  0010 0000 <span>    </span>mask (created with (1&lt;&lt;5) )<br />    ----------<br />    0010 1000 <span>    </span>result, loaded into PORTD<br /></div>
                                          <div style="color:rgb(0,0,255)"><br /></div>
                                          <div style="color:rgb(0,0,255)"><br /><br />
                                            <font color="#000000"><i style="font-family:courier new,monospace">Get Bit:</i><br /><br /><span>    </span>If you want to find out what the state of a bit within a register is this is the formula.  The formula will output 0 if the bit is not set(0) and greater then 1 if it is set(1).  Lets see if 3 bit is set.<br /><br /></font>
                                            <font color="#000000"><br />
                                              <div class="sites-codeblock sites-codesnippet-block">
                                                <font>
                                                  <font color="#000000"><code>PORTB = 8;</code></font>
                                                </font><br /><code>if ( (PORTB &amp; (1 &lt;&lt; 3)) &gt; 0)<br />{<br /><span>    </span>// do this if the 3 bit is set(1)<br />}<br />else<br />{<br /><span>    </span>// do this if the 3 bit is not set(0)<br />}<br /></code>
                                              </div><br /><br />
                                            </font>
                                            <div style="color:rgb(0,0,255)">
                                              <font color="#000000"><br /></font>
                                              <div style="margin-left:40px">Solve the brackets:<br /><br /></div>
                                              <div style="margin-left:40px">
                                                <div style="margin-left:40px">(1 &lt;&lt; 3) <span>    </span><br />creates 0000 0001 <br />shift it left by 3 to get a 0000 1000<br /></div><br /><br />Substitute:<br /><br />
                                              </div>
                                              <div style="margin-left:40px">
                                                <div style="margin-left:40px">PORTB &amp; 0000 1000</div>
                                              </div>
                                              <div style="margin-left:40px"><br /><br />And finally rearrange to solve:<br /><br /></div>
                                              <div style="margin-left:40px">    0000 1000     PORTB (set to 8 on the first line)<br />&amp;  0000 1000 <span>    </span>mask (created with (1&lt;&lt;3) )<br />    ----------<br />    0000 1000 <span>    </span>result &gt; 0 therefore the 3rd bit is set(1)<br /></div>
                                              <div style="color:rgb(0,0,255)"><br /></div>
                                            </div><br /><span>    </span>
                                            <font color="#000000">Hope that helps.  </font>
                                            <font size="2" style="color:rgb(0,0,0)"><span dir="ltr" title="Loofah! Loofah! Loofah! (NSFW).flv"><br /><br /><span>    </span><a href="http://www.youtube.com/watch?v=t3rSeMhipSY" target="_blank">Use the Loofah, Loofah! Loofah! Loofah!</a><br /><br />Cheers<br />Q<br /></span></font>
                                          </div>
                                          <div style="color:rgb(0,0,255)">
                                            <font size="2" style="color:rgb(0,0,0)"><span dir="ltr" title="Loofah! Loofah! Loofah! (NSFW).flv"><br /></span></font>
                                          </div>
                                          <div style="color:rgb(0,0,255)">
                                            <font size="2" style="color:rgb(0,0,0)"><span dir="ltr" title="Loofah! Loofah! Loofah! (NSFW).flv"><br /></span></font>
                                          </div>
                                          <div style="color:rgb(0,0,255)">
                                            <font size="2" style="color:rgb(0,0,0)"><span dir="ltr" title="Loofah! Loofah! Loofah! (NSFW).flv"><br /></span></font>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
              </table>
            </div>
          </div>
          <div id="sites-chrome-footer-wrapper">
            <div id="sites-chrome-footer-wrapper-inside">
              <div id="sites-chrome-footer">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

</html>