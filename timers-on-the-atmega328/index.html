<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">

<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1" />
  <link rel="shortcut icon" type="image/x-icon" href="//www.google.com/images/icons/product/sites-16.ico" />

  <meta name="title" content="Timers on the ATmega168/328 - QEEWiki" />
  <meta itemprop="name" content="Timers on the ATmega168/328 - QEEWiki" />
  <meta property="og:title" content="Timers on the ATmega168/328 - QEEWiki" />
  <meta name="description" content="Q's Electrical Engineering Wiki" />
  <meta itemprop="description" content="Q's Electrical Engineering Wiki" />
  <meta id="meta-tag-description" property="og:description" content="Q's Electrical Engineering Wiki" />
  <style type="text/css">
  </style>
  <link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/a6c549/system/app/themes/simple/standard-css-simple-ltr-ltr.css" />
  <link rel="stylesheet" type="text/css" href="/site/qeewiki/_/rsrc/1605169795000/system/app/css/overlay.css?cb=simple960px70175goog-ws-leftnonethemedefaultstandard" />
  <link rel="stylesheet" type="text/css" href="/site/qeewiki/_/rsrc/1605169795000/system/app/css/camelot/allthemes-view.css" />

  <title>Timers on the ATmega168/328 - QEEWiki</title>
  <meta itemprop="image" content="/avr-guide/timers-on-the-atmega328/ATmega328%20-%20Timer0.JPG" />
  <meta property="og:image" content="/avr-guide/timers-on-the-atmega328/ATmega328%20-%20Timer0.JPG" />
</head>

<body xmlns="http://www.google.com/ns/jotspot" id="body" class="en">
  <div id="sites-page-toolbar" class="sites-header-divider">
    <div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;">
      <div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div>
    </div>
  </div>
  <div id="sites-chrome-everything-scrollbar">
    <div id="sites-chrome-everything" class="">
      <div id="sites-chrome-page-wrapper" style="direction: ltr">
        <div id="sites-chrome-page-wrapper-inside">
          <div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper">
            <table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0">
              <tr class="sites-header-primary-row" id="sites-chrome-userheader">
                <td id="sites-header-title" class="" role="banner" style="height: 70px">
                  <div class="sites-header-cell-buffer-wrapper">
                    <h2><a href="/avr-guide" dir="ltr" id="sites-chrome-userheader-title">QEEWiki</a></h2>
                  </div>
                </td>
              </tr>
              <tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
                <td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
                </td>
              </tr>
            </table>
          </div>
          <div id="sites-chrome-main-wrapper">
            <div id="sites-chrome-main-wrapper-inside">
              <table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
                <tr>
                  <td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:175px">
                    <div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed" role="navigation">
                      <h4 class="sites-embed-title">Navigation</h4>
                      <div class="sites-embed-content sites-sidebar-nav">
                        <ul role="navigation" jotId="navList" class="has-expander">
                          <li class="topLevel nav-first ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="https://github.com/chayanforyou" jotId="wuid:gx:3b2a480be041e60" class="sites-navigation-link topLevel">Home</a></div>
                          </li>
                          <li class="topLevel parent " wuid="gx:535b3f3a2562e7ad">
                            <div dir="ltr" style="padding-left: 0px;">
                              <div class="expander"></div><a href="/avr-guide" jotId="wuid:gx:535b3f3a2562e7ad" class="sites-navigation-link topLevel">My Books</a>
                            </div>
                            <ul role="navigation" class="has-expander">
                              <li class="">
                                <div dir="ltr" style="padding-left: 38px;"><a href="/avr-guide" jotId="wuid:gx:5233ae16d3813d0e" class="sites-navigation-link">AVR GUIDE</a></div>
                              </li>
                            </ul>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="/avr-guide" jotId="wuid:gx:9d929f8c6b8e7ca" class="sites-navigation-link topLevel">Usefull Engineering Stuff</a></div>
                          </li>
                        </ul>
                      </div>
                    </div>
                    <div xmlns="http://www.w3.org/1999/xhtml" id="COMP_5818525579565211" class="sites-embed" role="navigation">
                      <h4 class="sites-embed-title">Resources</h4>
                      <div class="sites-embed-content sites-sidebar-nav">
                        <ul role="navigation" jotId="navList" class="has-expander">
                          <li class="topLevel nav-first ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://www.sparkfun.com" class="sites-navigation-link topLevel">Sparkfun</a></div>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://arduino.cc/en/Reference/HomePage" class="sites-navigation-link topLevel">Arduino Reference</a></div>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://www.eevblog.com/" class="sites-navigation-link topLevel">EEVBlog</a></div>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://fritzing.org/download/" class="sites-navigation-link topLevel">Fritzing Projects</a></div>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://www.adafruit.com/" class="sites-navigation-link topLevel">Ada Fruit</a></div>
                          </li>
                          <li class="topLevel ">
                            <div dir="ltr" style="padding-left: 19px;"><a href="http://www.pololu.com/" class="sites-navigation-link topLevel">Pololu</a></div>
                          </li>
                          <li class="topLevel parent ">
                            <div dir="ltr" style="padding-left: 0px;">
                              <div class="expander"></div><a href="http://www.atmel.com" class="sites-navigation-link topLevel">Atmel</a>
                            </div>
                            <ul role="navigation" class="has-expander">
                              <li class="">
                                <div dir="ltr" style="padding-left: 38px;"><a href="https://ww1.microchip.com/downloads/aemDocuments/documents/MCU08/ProductDocuments/DataSheets/ATmega8A-Data-Sheet-DS40001974B.pdf" class="sites-navigation-link">Atmega8 Datasheet</a></div>
                              </li>
                              <li class="">
                                <div dir="ltr" style="padding-left: 38px;"><a href="https://ww1.microchip.com/downloads/en/DeviceDoc/ATmega48A-PA-88A-PA-168A-PA-328-P-DS-DS40002061B.pdf" class="sites-navigation-link">ATMega168/328 Datasheet</a></div>
                              </li>
                            </ul>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </td>
                  <td id="sites-canvas-wrapper">
                    <div id="sites-canvas" role="main">
                      <div id="goog-ws-editor-toolbar-container"> </div>
                      <div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs">
                        <A href="/avr-guide" dir="ltr">My Books</A> &gt; <A href="/avr-guide" dir="ltr">AVR GUIDE</A> &gt;
                      </div>
                      <h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" align="left">
                        <span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Timers on the ATmega168/328</span>
                      </h3>
                      <div id="sites-canvas-main" class="sites-canvas-main">
                        <div id="sites-canvas-main-content">
                          <div xmlns="http://www.w3.org/1999/xhtml" class="sites-layout-name-one-column-hf sites-layout-vbox">
                            <div class="sites-layout-tile sites-tile-name-header sites-layout-empty-tile">
                              <div dir="ltr"><br /></div>
                            </div>
                            <div class="sites-layout-tile sites-tile-name-content-1">
                              <div dir="ltr"><b style="font-family:Verdana,Helvetica,Arial,sans-serif;font-size:13px;font-weight:bold">
                                  <font face="'courier new', monospace" size="3">INTRODUCTION:</font>
                                </b>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div>
                                  <font face="Verdana, Helvetica, Arial, sans-serif" size="2" style="font-family:courier new,monospace;font-size:medium">   </font>
                                  <font face="Verdana, Helvetica, Arial, sans-serif"> The timers are the heart of automation. We have seen in previous chapters how we could take in an input, perform mathematical functions on the data and, perform an action. Timers give us an extra level of control by giving us not only control over what happens but when it happens. We can put a time delay on a self destruct in our evil lair, we can control the flash rate of our seizure causing robot and, we could ensure that our death-ray isn't fired before its fully charged.  We have control of time MUA HAHAHAHAHA !!!!</font>
                                </div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                  <hr style="border-width:0px;background-color:rgb(204,204,204);height:1px" />
                                </div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span style="font-family:courier new,monospace;font-size:medium"><b>THEORY OF OPERATION:</b></span></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div>
                                  <div style="display:block;text-align:left;font-family:Verdana,Helvetica,Arial,sans-serif;font-size:13px;font-weight:normal"><span>    A quick review of the previous tutorial (<a href="/avr-guide/common-timer-theory" style="color:rgb(0,0,204);text-decoration:none">COMMON TIMER/COUNTER THEORY</a>).  The clock source (from the internal clock or an external source) sends pulses to the prescaler which divides the pulses by a determined amount.  This input is sent to the control circuit which increments the TCNTn register.  When the register hits its TOP value it resets to 0 and sends a <span style="color:rgb(0,0,0)">TOVn</span> (timer overflow) signal which could be used to trigger an interrupt. </span><br /></div>
                                  <div style="display:block;text-align:left;font-family:Verdana,Helvetica,Arial,sans-serif;font-size:13px;font-weight:normal"><br /></div>
                                  <div style="display:block;text-align:left">    Unfortunately, the AVR timer does process time in hours, minutes or seconds (what we are use to).  However, being evil masterminds we have the solution, it just requires a bit of math and our old friend, the prescaler.  <br /></div><br /><br />
                                  <div style="margin-left:40px"><span style="color:rgb(0,0,255)">OCRn =</span>  <font color="#0000ff">[ (clock_speed / Prescaler_value) * Desired_time_in_Seconds ] - 1<br /></font>
                                  </div>
                                </div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span><span><span><br /><br /></span></span></span></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span><span><span><span>    </span>Now for the bad news OCRn has to be a whole number.  If you end up with a decimal number it means that your desired timer will not be exact.  The other thing is that your number has to be able to fit into the register.  So 255 for an 8bit timers and 65535 for the 16bit timer.<br /><br /><br /></span></span></span></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span><span><span><br /></span></span></span></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span><span><span>Normal Mode:</span></span></span></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span><span><span><br /></span></span></span></div>
                                <div>
                                  <div><span style="font-family:Verdana,Helvetica,Arial,sans-serif;font-size:13px;font-weight:normal">    When t</span>he prescaler receives a pulse from a clock cycle and passes it onto the Control Logic.  The Control Logic increments the TCNTn register by 1.  When TCNTn hits the TOP (0xFF in the 8 bit timers and 0xFFFF in the 16 bit timer) it overflows to 0 and sets the TOVn bit in the TIFR register.  <br /><br /><span>    </span>The problem with Normal Mode is that it is very hard to use for an exact interval, because of this Normal Mode is only useful if you need a none-specific time interval (say you don't care if it happens every 1 or 2 ms as long as it happens at the same time each time) its nice and easy option.  Because, of this limitation many programmers choose to use CTC mode for their timers.<br /></div>
                                  <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-size:13px;font-weight:normal"><br /></div>
                                </div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-size:13px;font-weight:normal"><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span><span><span>CTC Mode:</span></span></span></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span><span><span><br /></span></span></span></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span><span><span><span style="font-family:Verdana,Helvetica,Arial,sans-serif;font-size:13px;font-weight:normal">    CTC stands for "Clear Timer on Compare" and it does the following.  When t</span>he prescaler receives a pulse from a clock cycle and passes it onto the Control Logic.  The Control Logic increments the TCNTn register by 1.  The TCNTn register is compared to the OCRn register, when a compare match occurs the TOVn bit is set in the TIFR register.</span></span></span></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span><span><span><br />
                                        <hr style="border-width:0px;background-color:rgb(204,204,204);height:1px" />
                                      </span></span></span></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span><span><span><br /></span></span></span></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span><span><span>    </span><br /></span></span></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                  <div><b>
                                      <font face="'courier new', monospace" size="3">TIMER0 (8BIT PWM):</font>
                                    </b></div>
                                </div>
                                <div style="display:block;text-align:left"><br /><br />
                                  <div style="display:block;text-align:left"><a href="/avr-guide/timers-on-the-atmega328/ATmega328%20-%20Timer0.JPG?attredirects=0" imageanchor="1"><img border="0" src="/avr-guide/timers-on-the-atmega328/ATmega328%20-%20Timer0.JPG" /></a></div>
                                </div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><i>Figure 1: Timer0 on the ATmega168/328</i></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div>    Unlike the ATmega8 the ATmega168/328's Timer0 does have a OCR0 register therefore it is capable of running in normal and CTC mode.<br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span>    TOV0 can generate a Timer Overflow interrupt.  In order to activate the timer0 interrupts you need to SET(1) the TOIE0 bit within the TIMSK register.</span><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                  <div><span>
                                      <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                        <tbody>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                          </tr>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;height:15px"> <b>TCCR0A</b></td>
                                            <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">COM0A1</td>
                                            <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">COM0A0 <br /></td>
                                            <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">COM0B1<br /></td>
                                            <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">COM0B0<br /></td>
                                            <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-</td>
                                            <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)"> -</td>
                                            <td style="vertical-align:top;text-align:center"> WGM01</td>
                                            <td style="vertical-align:top;text-align:center">WGM00 <br /></td>
                                          </tr>
                                        </tbody>
                                      </table>
                                      <div style="text-align:left"><i>Timer/Counter Control Register 0 A<br /></i></div>
                                    </span></div>
                                  <div><span><br /><br /></span></div>
                                  <div>
                                    <table border="1" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                      <tbody>
                                        <tr>
                                          <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                        </tr>
                                        <tr>
                                          <td style="vertical-align:top;text-align:center;height:15px"><b>TCCR0B</b></td>
                                          <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">FOC0A<br /></td>
                                          <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">FOC0B <br />
                                          </td>
                                          <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-<br />
                                          </td>
                                          <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-<br />
                                          </td>
                                          <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">WGM02<br /></td>
                                          <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)"> CS02</td>
                                          <td style="vertical-align:top;text-align:center"> CS01</td>
                                          <td style="vertical-align:top;text-align:center">CS00 <br />
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                    <div style="text-align:left"><i>Timer/Counter Control Register 0 B<br /></i></div><br /><br />
                                    <div>
                                      <blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px">
                                        <div>
                                          <div>
                                            <table border="1" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;border-collapse:collapse">
                                              <tbody>
                                                <tr>
                                                  <td style="vertical-align:top;width:50px;height:15px"><b> MODE</b></td>
                                                  <td style="vertical-align:top;width:56px;height:15px"><b>WGM02</b></td>
                                                  <td style="vertical-align:top;width:53px;height:15px"><b>WGM01</b></td>
                                                  <td style="vertical-align:top;width:53px;height:15px"><b>WGM00</b></td>
                                                  <td style="vertical-align:top;width:267px;height:15px"><b> DESCRIPTION</b></td>
                                                  <td style="vertical-align:top;width:60px"> <b>TOP</b></td>
                                                </tr>
                                                <tr>
                                                  <td style="vertical-align:top;text-align:center;width:50px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)">0</td>
                                                  <td style="vertical-align:top;text-align:center;width:56px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)"> 0 </td>
                                                  <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)">0</td>
                                                  <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)">0</td>
                                                  <td style="vertical-align:top;text-align:left;width:267px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)"> Normal </td>
                                                  <td style="vertical-align:top;width:60px;color:rgb(0,0,0);background-color:rgb(255,255,255)"> 0xFF</td>
                                                </tr>
                                                <tr>
                                                  <td style="vertical-align:top;text-align:center;width:50px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                  <td style="vertical-align:top;text-align:center;width:56px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                  <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                  <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                  <td style="vertical-align:top;text-align:left;width:267px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)"> PWM, Phase Corrected<br /></td>
                                                  <td style="vertical-align:top;width:60px;color:rgb(153,153,153);background-color:rgb(243,243,243)"> 0xFF</td>
                                                </tr>
                                                <tr>
                                                  <td style="vertical-align:top;text-align:center;width:50px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)">2</td>
                                                  <td style="vertical-align:top;text-align:center;width:56px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)">0</td>
                                                  <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)">1</td>
                                                  <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)">0</td>
                                                  <td style="vertical-align:top;text-align:left;width:267px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)"> CTC<br /></td>
                                                  <td style="vertical-align:top;width:60px;color:rgb(0,0,0);background-color:rgb(255,255,255)"> OCR0A<br /></td>
                                                </tr>
                                                <tr>
                                                  <td style="vertical-align:top;text-align:center;width:50px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">3</td>
                                                  <td style="vertical-align:top;text-align:center;width:56px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                  <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                  <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                  <td style="vertical-align:top;text-align:left;width:267px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)"> Fast PWM<br /></td>
                                                  <td style="vertical-align:top;text-align:center;width:60px;color:rgb(153,153,153);background-color:rgb(243,243,243)">0xFF<br /></td>
                                                </tr>
                                                <tr>
                                                  <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">4</td>
                                                  <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">1<br /></td>
                                                  <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">0<br /></td>
                                                  <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">0<br /></td>
                                                  <td style="vertical-align:top;background-color:rgb(238,238,238);color:rgb(153,153,153)"> Reserved</td>
                                                  <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)"> - <br /></td>
                                                </tr>
                                                <tr>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">5</td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                  <td style="vertical-align:top;text-align:left;color:rgb(153,153,153);background-color:rgb(243,243,243)"> Fast PWM, Phase Corrected<br /></td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">OCR0A <br /></td>
                                                </tr>
                                                <tr>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">6</td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                  <td style="vertical-align:top;text-align:left;color:rgb(153,153,153);background-color:rgb(243,243,243)"> Reserved</td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- <br /></td>
                                                </tr>
                                                <tr>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">7</td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                  <td style="vertical-align:top;text-align:left;color:rgb(153,153,153);background-color:rgb(243,243,243)"> Fast PWM <br /></td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">OCR0A <br /></td>
                                                </tr>
                                              </tbody>
                                            </table>
                                          </div>
                                        </div>
                                      </blockquote>
                                      <blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px">
                                        <div>
                                          <div><i>Waveform Generator Mode bits</i></div>
                                        </div>
                                      </blockquote>
                                    </div><span><br /><br /></span>
                                  </div>
                                  <blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px">
                                    <div>
                                      <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;border-collapse:collapse">
                                        <tbody>
                                          <tr>
                                            <td style="vertical-align:top;width:52px;height:15px"><b> CS02</b></td>
                                            <td style="vertical-align:top;width:52px;height:15px"><b> CS01 </b></td>
                                            <td style="vertical-align:top;width:52px;height:15px"><b> CS00 </b></td>
                                            <td style="vertical-align:top;width:362px;height:15px"><b> DESCRIPTION</b></td>
                                          </tr>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">0</td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">0 </td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">0 </td>
                                            <td style="vertical-align:top;text-align:left;width:362px;height:15px"> Timer/Counter0 Disabled </td>
                                          </tr>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">0</td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">0 </td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">1 </td>
                                            <td style="vertical-align:top;text-align:left;width:362px;height:15px"> No Prescaling</td>
                                          </tr>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">0</td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">1 </td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">0 </td>
                                            <td style="vertical-align:top;width:362px;height:15px"> Clock / 8</td>
                                          </tr>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">0</td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">1 </td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">1 </td>
                                            <td style="vertical-align:top;width:362px;height:15px"> Clock / 64</td>
                                          </tr>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">1</td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">0 </td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">0 </td>
                                            <td style="vertical-align:top;width:362px;height:15px"> Clock / 256</td>
                                          </tr>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">1</td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">0 </td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px">1 </td>
                                            <td style="vertical-align:top;width:362px;height:15px"> Clock / 1024</td>
                                          </tr>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1 </td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">0 </td>
                                            <td style="vertical-align:top;text-align:left;width:362px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)"> External clock source on T0 pin, Clock on Falling edge</td>
                                          </tr>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:16px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:16px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1 </td>
                                            <td style="vertical-align:top;text-align:center;width:52px;height:16px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1 </td>
                                            <td style="vertical-align:top;text-align:left;width:362px;height:16px;color:rgb(153,153,153);background-color:rgb(243,243,243)"> External clock source on T0 pin, Clock on rising edge</td>
                                          </tr>
                                        </tbody>
                                      </table><i>CS bits</i>
                                    </div>
                                  </blockquote>
                                </div>
                                <blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px;font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                  <div>
                                    <div><br /></div>
                                  </div>
                                </blockquote>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                  <div><br /></div>
                                  <div>
                                    <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                      <tbody>
                                        <tr>
                                          <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                          <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                        </tr>
                                        <tr>
                                          <td style="vertical-align:top;text-align:center;height:15px"><b>TIMSK0</b></td>
                                          <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">-<br /></td>
                                          <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">-<br /></td>
                                          <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">-<br /></td>
                                          <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">-<br /></td>
                                          <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">-<br /></td>
                                          <td style="vertical-align:top;text-align:center;background-color:rgb(255,255,255);color:rgb(0,0,0)">OCIE0B<br /></td>
                                          <td style="vertical-align:top;text-align:center;background-color:rgb(255,255,255);color:rgb(0,0,0)">OCIE0A <br /></td>
                                          <td style="vertical-align:top;text-align:center">TOIE0 </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                    <div style="text-align:left"><i>Timer/Counter Interrupt Mask Register</i></div>
                                  </div>
                                  <div style="text-align:left"><i><br /></i></div>
                                  <div style="text-align:left"><i><br /></i></div>
                                  <div style="text-align:left"><i><span style="font-style:normal">
                                        <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                          <tbody>
                                            <tr>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                            </tr>
                                            <tr>
                                              <td style="vertical-align:top;text-align:center;height:15px"><b>TIFR0</b></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> -</td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">-</td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">-</td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- <br /></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- <br /></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(243,243,243)">OCF0B</td>
                                              <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(0,0,0)">OCF0A<br /></td>
                                              <td style="vertical-align:top;text-align:center">TOV0 </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                        <div style="text-align:left"><i>Timer/Counter Interrupt Flag Register</i></div>
                                      </span></i></div>
                                  <div><br /></div>
                                  <div><br /></div>
                                  <div><i>
                                      <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse;font-style:normal">
                                        <tbody>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                          </tr>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;height:15px"><b>TCNT0</b></td>
                                            <td style="vertical-align:top;text-align:center"> </td>
                                            <td style="vertical-align:top;text-align:center"><br /></td>
                                            <td style="vertical-align:top;text-align:center"><br /></td>
                                            <td style="vertical-align:top;text-align:center"><br /></td>
                                            <td style="vertical-align:top;text-align:center"><br /></td>
                                            <td style="vertical-align:top;text-align:center"><br /></td>
                                            <td style="vertical-align:top;text-align:center"><br /></td>
                                            <td style="vertical-align:top;text-align:center"> </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                      <div style="text-align:left;font-style:normal"><i>Timer/Counter Register (stores the counter value)</i></div>
                                      <div><br /><br />
                                        <table border="1" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse;font-style:normal">
                                          <tbody>
                                            <tr>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"> </td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"><b> 7 bit</b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"><b> 6 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"><b> 5 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"><b> 4 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"><b> 3 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"><b> 2 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"><b> 1 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"><b> 0 bit</b> </td>
                                            </tr>
                                            <tr>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"><b>OCR0A</b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"> </td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"><br /></td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"><br /></td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"><br /></td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"><br /></td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"><br /></td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"><br /></td>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:16px"> </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                        <div style="text-align:left;font-style:normal"><i>Output Compare Register</i><br /></div><br /><br /><br />Software:<br />
                                      </div>
                                      <div><br /></div>
                                    </i></div>
                                </div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                  <div><i>ATmega168/328 Code:</i><br /></div>
                                  <div class="sites-codeblock sites-codesnippet-block" style="background-color:rgb(239,239,239);border:1px solid rgb(211,211,211);display:block;padding:0.5em 0px 0.5em 1em;line-height:13px">
                                    <div><code style="color:rgb(0,96,0)">// this code sets up a timer0 for 1ms @ 16Mhz clock cycle<br />// in order to function as a time delay at the begining of the main loop<br />// using no interrupts<br /></code><br /><br /><code style="color:rgb(0,96,0)">#include &lt;avr/io.h&gt;</code><br /><br /><br /><code style="color:rgb(0,96,0)">int main(void)</code><br /><code style="color:rgb(0,96,0)">{</code><br /><br /></div>
                                    <div></div>
                                    <div><code style="color:rgb(0,96,0)"><span>    </span>while (1)</code><br /><code style="color:rgb(0,96,0)"><span>    </span>{</code><br /><code style="color:rgb(0,96,0)"><span><br /><span>    </span><span>    </span>// Set the Timer Mode to CTC<br /><span>    </span><span>    </span>TCCR0A |= (1 &lt;&lt; WGM01);<br /><br /><span>    </span><span>    </span>// Set the value that you want to count to<br /><span>    </span><span>    </span>OCR0A = 0xF9;<br /><br /><span><span>    </span><span>    </span>// start the timer</span><span><br /></span></span></code>
                                      <div><code style="color:rgb(0,96,0)"><span><span>    </span>    </span>TCCR0B |= (1 &lt;&lt; CS01) | (1 &lt;&lt; CS00);</code><br /><code style="color:rgb(0,96,0)"><span>    <span>    </span></span>// set prescaler to 64 and start the timer<br /><br /></code></div><code style="color:rgb(0,96,0)"><span><span><span><span>    </span><span>    </span>while</span></span></span> ( (TIFR0 &amp; (1 &lt;&lt; TOV0) ) &gt; 0)<span>    </span><span>    </span>// wait for the overflow event<br /><span>    </span><span>    </span>{<span><br /><span>    </span><span>    </span>}<br /><span>    </span><span>    </span><br /><span>    </span><span>    </span>TIFR0 |= (1 &lt;&lt; TOV0);<br /><span>    </span><span>    </span>// reset the overflow flag</span><span><br /></span></code>
                                    </div>
                                    <div><code style="color:rgb(0,96,0)"><span><br />    </span>}</code><br /><code style="color:rgb(0,96,0)">}</code></div>
                                  </div>
                                </div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br />
                                  <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                    <div><i>ATmega168/328 Code:</i><br /></div>
                                    <div class="sites-codeblock sites-codesnippet-block" style="background-color:rgb(239,239,239);border:1px solid rgb(211,211,211);display:block;padding:0.5em 0px 0.5em 1em;line-height:13px">
                                      <div><code style="color:rgb(0,96,0)">// this code sets up a timer0 for 4ms @ 16Mhz clock cycle<br />// an interrupt is triggered each time the interval occurs.<br /><br /></code><br /><br /><code style="color:rgb(0,96,0)">#include &lt;avr/io.h&gt; <br /></code><span><span><code style="color:rgb(0,96,0)">#include &lt;avr/interrupt.h&gt;</code></span></span><br /><br /><br /><code style="color:rgb(0,96,0)">int main(void)</code><br /><code style="color:rgb(0,96,0)">{<span><span><br /><span><span><br /></span></span></span></span></code><code style="color:rgb(0,96,0)"><span><span>    </span>// Set the Timer Mode to CTC<br />
<span>    </span>TCCR0A |= (1 &lt;&lt; WGM01);<br />
<br />
<span>    </span>// Set the value that you want to count to<br />
<span>    </span>OCR0A = 0xF9;</span></code><br /><code style="color:rgb(0,96,0)"><span><span><span><span><br />    </span>TIMSK0 |= (1 &lt;&lt; OCIE0A);<span>    //Set the ISR COMPA vect</span><br /><br />    </span></span></span></code><span><span><code style="color:rgb(0,96,0)">sei();</code><span><code style="color:rgb(0,96,0)">    </code></span><span><code style="color:rgb(0,96,0)">     </code></span><code style="color:rgb(0,96,0)">//enable interrupts</code></span></span><br /><code style="color:rgb(0,96,0)"><span><span><br /><br />    </span></span>TCCR0B |= (1 &lt;&lt; CS02);</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// set prescaler to 256 and start the timer<br /></code><br /><br /></div>
                                      <div><code style="color:rgb(0,96,0)"><span>    </span>while (1)</code><br /><code style="color:rgb(0,96,0)"><span>    </span>{<br /><span>    </span><span>    </span>//main loop</code><code style="color:rgb(0,96,0)"><br /></code></div>
                                      <div><code style="color:rgb(0,96,0)"><span>    </span>}</code><br /><code style="color:rgb(0,96,0)">}<br /><br /><br /></code><code style="color:rgb(0,96,0)">ISR (TIMER0_COMPA_vect)</code><span><code style="color:rgb(0,96,0)">  </code></span><code style="color:rgb(0,96,0)">// timer0 overflow interrupt</code><br /><code style="color:rgb(0,96,0)">{</code><br /><span><code style="color:rgb(0,96,0)">    </code></span><code style="color:rgb(0,96,0)">//event to be exicuted every 4ms here</code><br /><code style="color:rgb(0,96,0)">}</code><br /></div>
                                    </div>
                                  </div><span><br /></span><br />
                                </div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                  <hr style="border-width:0px;background-color:rgb(204,204,204);height:1px" /><br />
                                </div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><b>
                                    <font face="'courier new', monospace" size="3"><br /></font>
                                  </b></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><b>
                                    <font face="'courier new', monospace" size="3">TIMER1 (16BIT PWM):</font>
                                  </b></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /><br />
                                  <div style="display:block;text-align:left">
                                    <div style="display:block;text-align:left"><a href="/avr-guide/timers-on-the-atmega328/ATmega328%20-%20Timer1.JPG?attredirects=0" imageanchor="1"><img border="0" src="/avr-guide/timers-on-the-atmega328/ATmega328%20-%20Timer1.JPG" /></a></div>
                                  </div>
                                </div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                  <div style="display:block;text-align:left"><i>Figure 2: Timer1 on the ATmega168/328</i><br /><br /><br /></div>
                                </div>
                                <div style="display:block;text-align:left;font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span>    </span>Timer/Counter1 is the big daddy of timers.  It can run in Normal mode (0xFFFF) and 2 CTC modes.  The difference between the 2 CTC modes that mode 4 uses the OCR1A register for its compare value and mode 12 uses the ICR1 register.<br /><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span>    In normal mode TOV1 can generate a Overflow interrupt.  In order to activate the timer1 overflow interrupts you need to SET(1) the TOIE1 bit within the TIMSK1 register.<br /><br /><span>    </span>In CTC (mode 4) mode OCIF1A can generate an interrupt when it detects a compare match.  In order to activate the timer1 CTC interrupt SET(1) the OCF1A bit within the TIMSK1 register.</span></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span><br /></span></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span><span>    </span>In CTC (mode 12) mode TICIE1 can generate an interrupt when it detects a compare match.  In order to activate the timer1 CTC interrupt SET(1) the TICIE1 bit within the TIMSK1 register.</span></div>
                                    <div><span><br /></span></div><br />
                                  </span></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                  <div>
                                    <div><span>
                                        <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                          <tbody>
                                            <tr>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                            </tr>
                                            <tr>
                                              <td style="vertical-align:top;text-align:center;height:15px"><b>TCCR1A</b></td>
                                              <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">COM1A1</td>
                                              <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">COM1A0</td>
                                              <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">COM1B1</td>
                                              <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">COM1B0</td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-<br /></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-<br /></td>
                                              <td style="vertical-align:top;text-align:center"> WGM11</td>
                                              <td style="vertical-align:top;text-align:center">WGM10 </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                        <div style="text-align:left"><i>Timer/Counter Control Register 1 A</i></div>
                                      </span></div>
                                    <blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px">
                                      <div><br /></div>
                                    </blockquote>
                                  </div>
                                  <div>
                                    <div><br /></div>
                                    <div>
                                      <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                        <tbody>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                          </tr>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;height:15px"><b>TCCR1B</b></td>
                                            <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">ICNC1</td>
                                            <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">ICES1</td>
                                            <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">-</td>
                                            <td style="vertical-align:top;text-align:center">WGM13</td>
                                            <td style="vertical-align:top;text-align:center">WGM12</td>
                                            <td style="vertical-align:top;text-align:center"> CS12</td>
                                            <td style="vertical-align:top;text-align:center"> CS11</td>
                                            <td style="vertical-align:top;text-align:center">CS10 </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                      <div style="text-align:left"><i>Timer/Counter Control Register 1 B</i></div>
                                    </div>
                                    <div><br />
                                      <div><br /></div>
                                      <div>
                                        <blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px">
                                          <div>
                                            <div>
                                              <table border="1" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;border-collapse:collapse">
                                                <tbody>
                                                  <tr>
                                                    <td style="vertical-align:top;width:50px;height:15px"><b> MODE</b></td>
                                                    <td style="vertical-align:top;width:58px;height:15px"><b>WGM13</b></td>
                                                    <td style="vertical-align:top;width:56px;height:15px"><b>WGM12</b></td>
                                                    <td style="vertical-align:top;width:53px;height:15px"><b>WGM11</b></td>
                                                    <td style="vertical-align:top;width:53px;height:15px"><b>WGM10</b></td>
                                                    <td style="vertical-align:top;width:267px;height:15px"><b> DESCRIPTION</b></td>
                                                    <td style="vertical-align:top;width:60px"> <b>TOP</b></td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;width:50px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)">0</td>
                                                    <td style="vertical-align:top;text-align:center;width:58px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)"> 0</td>
                                                    <td style="vertical-align:top;text-align:center;width:56px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)"> 0 </td>
                                                    <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)">0</td>
                                                    <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)">0</td>
                                                    <td style="vertical-align:top;text-align:left;width:267px;height:15px;color:rgb(0,0,0);background-color:rgb(255,255,255)"> Normal </td>
                                                    <td style="vertical-align:top;width:60px;color:rgb(0,0,0);background-color:rgb(255,255,255)"> 0xFFFF</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;width:50px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                    <td style="vertical-align:top;text-align:center;width:58px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                    <td style="vertical-align:top;text-align:center;width:56px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                    <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                    <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                    <td style="vertical-align:top;text-align:left;width:267px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)"> PWM, Phase Corrected, 8bit</td>
                                                    <td style="vertical-align:top;width:60px;color:rgb(153,153,153);background-color:rgb(243,243,243)"> 0x00FF</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;width:50px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">2</td>
                                                    <td style="vertical-align:top;text-align:center;width:58px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                    <td style="vertical-align:top;text-align:center;width:56px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                    <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                    <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                    <td style="vertical-align:top;text-align:left;width:267px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)"> PWM, Phase Corrected, 9bit</td>
                                                    <td style="vertical-align:top;width:60px;color:rgb(153,153,153);background-color:rgb(243,243,243)"> 0x01FF</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;width:50px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">3</td>
                                                    <td style="vertical-align:top;text-align:center;width:58px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                    <td style="vertical-align:top;text-align:center;width:56px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                    <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                    <td style="vertical-align:top;text-align:center;width:53px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                    <td style="vertical-align:top;text-align:left;width:267px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)"> PWM, Phase Corrected, 10bit </td>
                                                    <td style="vertical-align:top;text-align:center;width:60px;color:rgb(153,153,153);background-color:rgb(243,243,243)">0x03FF </td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center">4</td>
                                                    <td style="vertical-align:top;text-align:center">0</td>
                                                    <td style="vertical-align:top;text-align:center">1<br /></td>
                                                    <td style="vertical-align:top;text-align:center">0<br /></td>
                                                    <td style="vertical-align:top;text-align:center">0<br /></td>
                                                    <td style="vertical-align:top"> CTC</td>
                                                    <td style="vertical-align:top;text-align:center"> OCR1A <br /></td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">5</td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                    <td style="vertical-align:top;text-align:left;color:rgb(153,153,153);background-color:rgb(243,243,243)"> Fast PWM, 8bit </td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">0x00FF </td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">6</td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                    <td style="vertical-align:top;text-align:left;color:rgb(153,153,153);background-color:rgb(243,243,243)"> Fast PWM, 9bit </td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">0x01FF </td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">7</td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">0</td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                    <td style="vertical-align:top;text-align:left;color:rgb(153,153,153);background-color:rgb(243,243,243)"> Fast PWM, 10bit </td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">0x03FF </td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">8</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">0</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">0</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">0</td>
                                                    <td style="vertical-align:top;text-align:left;background-color:rgb(243,243,243);color:rgb(153,153,153)"> PWM, Phase and Frequency Corrected </td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">ICR1 </td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">9</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">0</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">0</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:left;background-color:rgb(243,243,243);color:rgb(153,153,153)"> PWM, Phase and Frequency Corrected </td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">OCR1A </td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">10</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">0</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">0</td>
                                                    <td style="vertical-align:top;text-align:left;background-color:rgb(243,243,243);color:rgb(153,153,153)"> PWM, Phase Correct </td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">ICR1 </td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">11</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">0</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:left;background-color:rgb(243,243,243);color:rgb(153,153,153)"> PWM, Phase Correct </td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)"> OCR1A</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center">12</td>
                                                    <td style="vertical-align:top;text-align:center">1</td>
                                                    <td style="vertical-align:top;text-align:center">1<br /></td>
                                                    <td style="vertical-align:top;text-align:center">0<br /></td>
                                                    <td style="vertical-align:top;text-align:center">0<br /></td>
                                                    <td style="vertical-align:top;text-align:left"> CTC</td>
                                                    <td style="vertical-align:top;text-align:center"> ICR1</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">13</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">0</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;background-color:rgb(238,238,238);color:rgb(153,153,153)"> RESERVED</td>
                                                    <td style="vertical-align:top;background-color:rgb(238,238,238);color:rgb(153,153,153)"> </td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">14</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">0</td>
                                                    <td style="vertical-align:top;text-align:left;background-color:rgb(243,243,243);color:rgb(153,153,153)"> Fast PWM </td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">ICR1 </td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">15</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">1</td>
                                                    <td style="vertical-align:top;background-color:rgb(243,243,243);color:rgb(153,153,153)"> Fast PWM</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153)">OCR1A </td>
                                                  </tr>
                                                </tbody>
                                              </table>
                                            </div>
                                          </div>
                                        </blockquote>
                                        <blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px">
                                          <div>
                                            <div><i>Waveform Generator Mode bits</i></div>
                                          </div>
                                        </blockquote>
                                      </div><br /><br />
                                    </div>
                                    <div>
                                      <blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px">
                                        <div>
                                          <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;border-collapse:collapse">
                                            <tbody>
                                              <tr>
                                                <td style="vertical-align:top;width:54px;height:15px"><b> CS12</b></td>
                                                <td style="vertical-align:top;width:54px;height:15px"><b> CS11 </b></td>
                                                <td style="vertical-align:top;width:54px;height:15px"><b> CS10 </b></td>
                                                <td style="vertical-align:top;width:365px;height:15px"><b> DESCRIPTION</b></td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:54px;height:15px">0</td>
                                                <td style="vertical-align:top;text-align:center;width:54px;height:15px">0 </td>
                                                <td style="vertical-align:top;text-align:center;width:54px;height:15px">0 </td>
                                                <td style="vertical-align:top;text-align:left;width:365px;height:15px"> Timer/Counter1 Disabled </td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:54px;height:15px">0</td>
                                                <td style="vertical-align:top;text-align:center;width:54px;height:15px">0 </td>
                                                <td style="vertical-align:top;text-align:center;width:54px;height:15px">1 </td>
                                                <td style="vertical-align:top;text-align:left;width:365px;height:15px"> No Prescaling</td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center">0</td>
                                                <td style="vertical-align:top;text-align:center">1 </td>
                                                <td style="vertical-align:top;text-align:center">0 </td>
                                                <td style="vertical-align:top"> Clock / 8</td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center">0</td>
                                                <td style="vertical-align:top;text-align:center">1 </td>
                                                <td style="vertical-align:top;text-align:center">1 </td>
                                                <td style="vertical-align:top"> Clock / 64</td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center">1</td>
                                                <td style="vertical-align:top;text-align:center">0 </td>
                                                <td style="vertical-align:top;text-align:center">0 </td>
                                                <td style="vertical-align:top"> Clock / 256</td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center">1</td>
                                                <td style="vertical-align:top;text-align:center">0 </td>
                                                <td style="vertical-align:top;text-align:center">1 </td>
                                                <td style="vertical-align:top"> Clock / 1024</td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:54px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                <td style="vertical-align:top;text-align:center;width:54px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1 </td>
                                                <td style="vertical-align:top;text-align:center;width:54px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">0 </td>
                                                <td style="vertical-align:top;text-align:left;width:365px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)"> External clock source on T1 pin, Clock on Falling edge</td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:54px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1</td>
                                                <td style="vertical-align:top;text-align:center;width:54px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1 </td>
                                                <td style="vertical-align:top;text-align:center;width:54px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">1 </td>
                                                <td style="vertical-align:top;text-align:left;width:365px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)"> External clock source on T1 pin, Clock on rising edge</td>
                                              </tr>
                                            </tbody>
                                          </table><i>CS bits</i>
                                        </div>
                                      </blockquote><br />
                                      <div><br /></div>
                                      <div>
                                        <table border="1" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                          <tbody>
                                            <tr>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                            </tr>
                                            <tr>
                                              <td style="vertical-align:top;text-align:center;height:15px"><b>TCCR1C</b></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">FOC1A</td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">FOC1B<br /></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">-</td>
                                              <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">-<br /></td>
                                              <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">-<br /></td>
                                              <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)"> -</td>
                                              <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)"> -</td>
                                              <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">- <br /></td>
                                            </tr>
                                          </tbody>
                                        </table>
                                        <div style="text-align:left"><i>Timer/Counter Control Register 1 C<br /></i></div>
                                      </div><br />
                                    </div>
                                    <div><br /></div>
                                    <div>
                                      <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                        <tbody>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                          </tr>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;height:15px"><b>TIMSK1</b></td>
                                            <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> -</td>
                                            <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- <br /></td>
                                            <td style="vertical-align:top;text-align:center">ICIE1</td>
                                            <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">-</td>
                                            <td style="vertical-align:top;text-align:center;background-color:rgb(238,238,238);color:rgb(153,153,153)">
                                              <font style="background-color:rgb(238,238,238)">-</font>
                                            </td>
                                            <td style="vertical-align:top;text-align:center;background-color:rgb(255,255,255);color:rgb(0,0,0)">OCIE1B</td>
                                            <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)"> OCIE1A</td>
                                            <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">TOIE0 </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                      <div style="text-align:left"><i>Timer/Counter Interrupt Mask Register</i></div>
                                    </div>
                                    <div style="text-align:left"><i><br /></i></div>
                                    <div style="text-align:left"><i><br /></i></div>
                                    <div style="text-align:left"><i><span style="font-style:normal">
                                          <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                            <tbody>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;height:15px"><b>TIFR1</b></td>
                                                <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> -</td>
                                                <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">-</td>
                                                <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">ICF1</td>
                                                <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-</td>
                                                <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-</td>
                                                <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)"> OCF1B</td>
                                                <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">OCF1A<br /></td>
                                                <td style="vertical-align:top;text-align:center;background-color:rgb(255,255,255);color:rgb(0,0,0)">TOV1 <br /></td>
                                              </tr>
                                            </tbody>
                                          </table>
                                          <div style="text-align:left"><i>Timer/Counter Interrupt Flag Register</i></div>
                                        </span></i></div>
                                    <div><br /></div>
                                    <div><br /></div>
                                    <div><i><span style="font-style:normal">
                                          <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                            <tbody>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;height:15px"><b>TCNT1H</b></td>
                                                <td style="vertical-align:top;text-align:center"> </td>
                                                <td style="vertical-align:top;text-align:center"><br /></td>
                                                <td style="vertical-align:top;text-align:center"><br /></td>
                                                <td style="vertical-align:top;text-align:center"><br /></td>
                                                <td style="vertical-align:top;text-align:center"><br /></td>
                                                <td style="vertical-align:top;text-align:center"><br /></td>
                                                <td style="vertical-align:top;text-align:center"><br /></td>
                                                <td style="vertical-align:top;text-align:center"> </td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top"><b>TCNT1L</b></td>
                                                <td style="vertical-align:top"> </td>
                                                <td style="vertical-align:top"> </td>
                                                <td style="vertical-align:top"> </td>
                                                <td style="vertical-align:top"> </td>
                                                <td style="vertical-align:top"> </td>
                                                <td style="vertical-align:top"> </td>
                                                <td style="vertical-align:top"> </td>
                                                <td style="vertical-align:top"> </td>
                                              </tr>
                                            </tbody>
                                          </table>
                                          <div style="text-align:left"><i>Timer/Counter Register (stores the counter value, 16 bit)</i></div>
                                          <div><i><br /></i></div>
                                          <div><i><br /></i></div>
                                        </span></i></div>
                                  </div>
                                  <div><i><span style="font-style:normal">
                                        <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                          <tbody>
                                            <tr>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                            </tr>
                                            <tr>
                                              <td style="vertical-align:top;text-align:center;height:15px"><b>OCR1AH</b></td>
                                              <td style="vertical-align:top;text-align:center"> </td>
                                              <td style="vertical-align:top;text-align:center"><br /></td>
                                              <td style="vertical-align:top;text-align:center"><br /></td>
                                              <td style="vertical-align:top;text-align:center"><br /></td>
                                              <td style="vertical-align:top;text-align:center"><br /></td>
                                              <td style="vertical-align:top;text-align:center"><br /></td>
                                              <td style="vertical-align:top;text-align:center"><br /></td>
                                              <td style="vertical-align:top;text-align:center"> </td>
                                            </tr>
                                            <tr>
                                              <td style="vertical-align:top"><b>OCR1AL</b></td>
                                              <td style="vertical-align:top"> </td>
                                              <td style="vertical-align:top"> </td>
                                              <td style="vertical-align:top"> </td>
                                              <td style="vertical-align:top"> </td>
                                              <td style="vertical-align:top"> </td>
                                              <td style="vertical-align:top"> </td>
                                              <td style="vertical-align:top"> </td>
                                              <td style="vertical-align:top"> </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                        <div style="text-align:left"><i>Output Compare Register A (stores the compare value, 16 bit)</i></div>
                                      </span></i></div>
                                </div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><i><span style="font-style:normal">
                                      <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                        <tbody>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                            <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                          </tr>
                                          <tr>
                                            <td style="vertical-align:top;text-align:center;height:15px"><b>ICR1</b></td>
                                            <td style="vertical-align:top;text-align:center"> </td>
                                            <td style="vertical-align:top;text-align:center"><br /></td>
                                            <td style="vertical-align:top;text-align:center"><br /></td>
                                            <td style="vertical-align:top;text-align:center"><br /></td>
                                            <td style="vertical-align:top;text-align:center"><br /></td>
                                            <td style="vertical-align:top;text-align:center"><br /></td>
                                            <td style="vertical-align:top;text-align:center"><br /></td>
                                            <td style="vertical-align:top;text-align:center"> </td>
                                          </tr>
                                          <tr>
                                            <td style="vertical-align:top"><b>ICR1</b></td>
                                            <td style="vertical-align:top"> </td>
                                            <td style="vertical-align:top"> </td>
                                            <td style="vertical-align:top"> </td>
                                            <td style="vertical-align:top"> </td>
                                            <td style="vertical-align:top"> </td>
                                            <td style="vertical-align:top"> </td>
                                            <td style="vertical-align:top"> </td>
                                            <td style="vertical-align:top"> </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                      <div style="text-align:left"><i>Input Compare Register (can be used to stores the compare value, 16 bit)</i></div>
                                    </span></i></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /><i><i>Software:</i></i><br /><br /><br /></div>
                                <div style="font-weight:normal;font-size:13px">
                                  <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><i>ATmega168/328 Code:</i><br /></div>
                                  <div class="sites-codeblock sites-codesnippet-block" style="background-color:rgb(239,239,239);border:1px solid rgb(211,211,211);display:block;padding:0.5em 0px 0.5em 1em;line-height:13px">
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><code style="color:rgb(0,96,0)">// this code sets up timer1 for a 1s  @ 16Mhz Clock (mode 4)</code><br /><br /><br /><code style="color:rgb(0,96,0)">#include &lt;avr/io.h&gt;</code><br /><span style="color:rgb(0,96,0);font-family:monospace">#include &lt;avr/interrupt.h&gt;</span></div>
                                    <div>
                                      <font color="#006000" face="monospace"><br /></font><br /><code style="color:rgb(0,96,0);font-family:Verdana,Helvetica,Arial,sans-serif">int main(void)</code><br /><code style="color:rgb(0,96,0);font-family:Verdana,Helvetica,Arial,sans-serif">{</code>
                                    </div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif">
                                      <font color="#006000" face="monospace"><span>    OCR1A = 0x3D08;</span></font>
                                    </div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif">
                                      <font color="#006000" face="monospace"><span><br /></span></font>
                                    </div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><code style="color:rgb(0,96,0)"><span><span>    TCCR1B |= (1 &lt;&lt; WGM12);</span><br /></span></code></div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><code style="color:rgb(0,96,0)"><span><span><span>    // Mode 4, CTC on OCR1A</span><br /></span></span></code></div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><br />
                                      <font color="#006000" face="monospace"><span><span>    </span>TIMSK1 |= (1 &lt;&lt;</span> OCIE1A);<br /><span>    </span>//Set interrupt on compare match</font><br /><br />
                                    </div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><code style="color:rgb(0,96,0)"><span>    </span>TCCR1B |= (1 &lt;&lt; CS12) | (1 &lt;&lt; CS10);</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// set prescaler to 1024 and start the timer<br /><br /></code><code style="color:rgb(0,96,0)"><br /><span>    </span>sei();<br /><span>    </span>// enable interrupts<br /></code></div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><br /><br /><code style="color:rgb(0,96,0)"><span>    </span>while (1)</code><br /><code style="color:rgb(0,96,0)"><span>    </span>{</code><br /><code style="color:rgb(0,96,0)"><span>    <span>    </span></span>// we have a working Timer</code></div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><code style="color:rgb(0,96,0)"><span>    </span>}</code><br /><code style="color:rgb(0,96,0)">}<br /><br />ISR (TIMER1_COMPA_vect)<br />{<br /><span>    // action to be done every 1 sec</span><br />}<br /></code></div>
                                  </div>
                                </div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                  <div style="font-weight:normal;font-size:13px">
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><i>ATmega168/328 Code:</i><br /></div>
                                    <div class="sites-codeblock sites-codesnippet-block" style="background-color:rgb(239,239,239);border:1px solid rgb(211,211,211);display:block;padding:0.5em 0px 0.5em 1em;line-height:13px">
                                      <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><code style="color:rgb(0,96,0)">// this code sets up timer1 for a 200ms  @ 16Mhz Clock (Mode 12)</code><br /><br /><br /><code style="color:rgb(0,96,0)">#include &lt;avr/io.h&gt;</code><br /><span style="color:rgb(0,96,0);font-family:monospace">#include &lt;avr/interrupt.h&gt;</span></div>
                                      <div>
                                        <font color="#006000" face="monospace"><br /></font><br /><code style="color:rgb(0,96,0);font-family:Verdana,Helvetica,Arial,sans-serif">int main(void)</code><br /><code style="color:rgb(0,96,0);font-family:Verdana,Helvetica,Arial,sans-serif">{</code>
                                      </div>
                                      <div style="font-family:Verdana,Helvetica,Arial,sans-serif">
                                        <font color="#006000" face="monospace"><span>    ICR1 = 0x30D3;</span></font>
                                      </div>
                                      <div style="font-family:Verdana,Helvetica,Arial,sans-serif">
                                        <font color="#006000" face="monospace"><span><br /></span></font>
                                      </div>
                                      <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><code style="color:rgb(0,96,0)"><span><span>    TCCR1B |= (1 &lt;&lt; WGM12);</span><br /></span></code></div>
                                      <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><code style="color:rgb(0,96,0)"><span><span><span>    // Mode 4, CTC on OCR1A</span><br /></span></span></code></div>
                                      <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><br />
                                        <font color="#006000" face="monospace"><span><span>    </span>TIMSK1 |= (1 &lt;&lt;</span> ICIE1);<br /><span>    </span>//Set interrupt on compare match</font><br /><br />
                                      </div>
                                      <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><code style="color:rgb(0,96,0)"><span>    </span>TCCR1B |= (1 &lt;&lt; CS12);</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// set prescaler to 256 and starts the timer<br /><br /></code><code style="color:rgb(0,96,0)"><br /><span>    </span>sei();<br /><span>    </span>// enable interrupts<br /></code></div>
                                      <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><br /><br /><code style="color:rgb(0,96,0)"><span>    </span>while (1)</code><br /><code style="color:rgb(0,96,0)"><span>    </span>{</code><br /><code style="color:rgb(0,96,0)"><span>    <span>    </span></span>// we have a working Timer</code></div>
                                      <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><code style="color:rgb(0,96,0)"><span>    </span>}</code><br /><code style="color:rgb(0,96,0)">}<br /><br />ISR (TIMER1_COMPA_vect)<br />{<br /><span>    // action to be done every 200ms</span><br />}<br /></code></div>
                                      <div><code style="color:rgb(0,96,0)"><br /></code></div>
                                    </div>
                                  </div>
                                </div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /><br /></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                  <hr style="border-width:0px;background-color:rgb(204,204,204);height:1px" />
                                </div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /><br /></div>
                                <div style="font-weight:bold;font-family:courier new,monospace;font-size:medium"><b>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span style="font-family:courier new,monospace;font-size:medium"><b><span style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                            <div style="display:inline!important"><span style="font-family:courier new,monospace;font-size:medium"><b><span style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                                    <div style="display:inline!important">
                                                      <div style="display:inline!important"><b>
                                                          <font face="'courier new', monospace" size="3">TIMER2 (8BIT PWM):</font>
                                                        </b></div>
                                                    </div>
                                                  </span></b></span></div>
                                          </span></b></span></div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /><br />
                                      <div style="display:block;text-align:left"><a href="/avr-guide/timers-on-the-atmega328/ATmega328%20-%20Timer2.JPG?attredirects=0" imageanchor="1"><img border="0" src="/avr-guide/timers-on-the-atmega328/ATmega328%20-%20Timer2.JPG" /></a></div><img alt="" src="javascript:void(0);" /><i>Figure 3: Timer2 on the ATmega168/328</i><br /><br /><br />
                                    </div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                      <div style="display:block;text-align:left;font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span>    </span>Timer/Counter2 is the preferred timer among programmers for short time delays because, its prescaler has the greatest number of options .  It can run in Normal mode or CTC modes.<br /><br /></div><span>    In normal mode TOV2 can generate a Overflow interrupt.  In order to activate the timer1 overflow interrupts you need to SET(1) the TOIE1 bit within the TIMSK2 register.<br /><br /><span>    </span>In CTC mode OCIF2 can generate an interrupt when it detects a compare match.  In order to activate the  timer1 CTC interrupt SET(1) the OCF2 bit within the TIMSK register.<br /></span><br />
                                    </div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><br /></div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                      <div><span>
                                          <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                            <tbody>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;height:15px"><b>TCCR2A</b></td>
                                                <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">COM2A1<br /></td>
                                                <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">COM2A0<br /></td>
                                                <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">COM2B1</td>
                                                <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">COM2B0</td>
                                                <td style="vertical-align:top;text-align:center">-<br /></td>
                                                <td style="vertical-align:top;text-align:center">-<br /></td>
                                                <td style="vertical-align:top;text-align:center"> WGM21</td>
                                                <td style="vertical-align:top;text-align:center">WGM20 </td>
                                              </tr>
                                            </tbody>
                                          </table>
                                          <div style="text-align:left"><i>Timer/Counter Control Register 2</i></div>
                                        </span></div>
                                      <div><span><br /></span></div>
                                      <div>
                                        <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                          <div><br /></div>
                                        </div>
                                        <blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px;font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                          <div>
                                            <div>
                                              <table border="1" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;border-collapse:collapse">
                                                <tbody>
                                                  <tr>
                                                    <td style="vertical-align:top;width:52px;height:16px"><b> MODE</b></td>
                                                    <td style="vertical-align:top;width:54px;height:16px"><b>WGM21</b></td>
                                                    <td style="vertical-align:top;width:54px;height:16px"><b>WGM20</b></td>
                                                    <td style="vertical-align:top;width:296px;height:16px"><b> DESCRIPTION</b></td>
                                                    <td style="vertical-align:top;width:60px;height:16px;text-align:center">TOP</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;width:52px;height:16px">0</td>
                                                    <td style="vertical-align:top;text-align:center;width:54px;height:16px">0</td>
                                                    <td style="vertical-align:top;text-align:center;width:54px;height:16px">0</td>
                                                    <td style="vertical-align:top;text-align:left;width:296px;height:16px"> Normal </td>
                                                    <td style="vertical-align:top;width:60px;height:16px;text-align:center"> 0xFF</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243);width:52px;height:16px">1</td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243);width:54px;height:16px">0</td>
                                                    <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243);width:54px;height:16px">1</td>
                                                    <td style="vertical-align:top;text-align:left;color:rgb(153,153,153);background-color:rgb(238,238,238);width:296px;height:16px"> PWM Phase Corrected</td>
                                                    <td style="vertical-align:top;width:60px;height:16px;background-color:rgb(238,238,238)"> </td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;width:52px;height:16px">2</td>
                                                    <td style="vertical-align:top;text-align:center;width:54px;height:16px">1</td>
                                                    <td style="vertical-align:top;text-align:center;width:54px;height:16px">0</td>
                                                    <td style="vertical-align:top;text-align:left;width:296px;height:16px"> CTC</td>
                                                    <td style="vertical-align:top;width:60px;height:16px;text-align:center">OCR2</td>
                                                  </tr>
                                                  <tr>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153);width:52px;height:16px">3</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153);width:54px;height:16px">1</td>
                                                    <td style="vertical-align:top;text-align:center;background-color:rgb(243,243,243);color:rgb(153,153,153);width:54px;height:16px">1</td>
                                                    <td style="vertical-align:top;text-align:left;background-color:rgb(238,238,238);color:rgb(153,153,153);width:296px;height:16px"> Fast PWM </td>
                                                    <td style="vertical-align:top;width:60px;height:16px;background-color:rgb(238,238,238)"> </td>
                                                  </tr>
                                                </tbody>
                                              </table>
                                            </div>
                                          </div>
                                        </blockquote>
                                        <blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px;font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                          <div>
                                            <div><i>Waveform Generator Mode bits</i></div>
                                          </div>
                                        </blockquote><br /><br />
                                        <table border="1" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                          <tbody>
                                            <tr>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                            </tr>
                                            <tr>
                                              <td style="vertical-align:top;text-align:center;height:15px"><b>TCCR2B</b></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">FOC2A<br /></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">FOC2B<br /></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-<br /></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-<br /></td>
                                              <td style="vertical-align:top;text-align:center">WGM22<br /></td>
                                              <td style="vertical-align:top;text-align:center">CS22<br /></td>
                                              <td style="vertical-align:top;text-align:center">CS21<br /></td>
                                              <td style="vertical-align:top;text-align:center">CS20 </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                        <div style="text-align:left"><i>Timer/Counter Control Register 2</i></div><br /><span><br /></span>
                                      </div>
                                      <blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px">
                                        <div>
                                          <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;border-collapse:collapse">
                                            <tbody>
                                              <tr>
                                                <td style="vertical-align:top;width:52px;height:15px"><b> CS22</b></td>
                                                <td style="vertical-align:top;width:52px;height:15px"><b> CS21 </b></td>
                                                <td style="vertical-align:top;width:52px;height:15px"><b> CS20 </b></td>
                                                <td style="vertical-align:top;width:362px;height:15px"><b> DESCRIPTION</b></td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">0</td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">0 </td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">0 </td>
                                                <td style="vertical-align:top;text-align:left;width:362px;height:15px"> Timer/Counter2 Disabled </td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">0</td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">0 </td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">1 </td>
                                                <td style="vertical-align:top;text-align:left;width:362px;height:15px"> No Prescaling</td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">0</td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">1 </td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">0 </td>
                                                <td style="vertical-align:top;width:362px;height:15px"> Clock / 8</td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">0</td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">1 </td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">1 </td>
                                                <td style="vertical-align:top;width:362px;height:15px"> Clock / 32</td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">1</td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">0 </td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">0 </td>
                                                <td style="vertical-align:top;width:362px;height:15px"> Clock / 64</td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">1</td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">0 </td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">1 </td>
                                                <td style="vertical-align:top;width:362px;height:15px"> Clock / 128</td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">1</td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">1 </td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:15px">0 </td>
                                                <td style="vertical-align:top;text-align:left;width:362px;height:15px"> Clock / 256</td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:16px">1</td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:16px">1 </td>
                                                <td style="vertical-align:top;text-align:center;width:52px;height:16px">1 </td>
                                                <td style="vertical-align:top;text-align:left;width:362px;height:16px"> Clock / 1024 </td>
                                              </tr>
                                            </tbody>
                                          </table><i>CS bits</i>
                                        </div>
                                      </blockquote>
                                      <div><br /></div>
                                    </div>
                                    <blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px;font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                      <div>
                                        <div></div>
                                      </div>
                                    </blockquote>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px">
                                      <div><br /></div>
                                      <div>
                                        <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                          <tbody>
                                            <tr>
                                              <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                              <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                            </tr>
                                            <tr>
                                              <td style="vertical-align:top;text-align:center;height:15px"><b>TIMSK2</b></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)"> -</td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-<br /></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-<br /></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-<br /></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-<br /></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">OCIE2B<br /></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">OCIE2A<br /></td>
                                              <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">TOIE2</td>
                                            </tr>
                                          </tbody>
                                        </table>
                                        <div style="text-align:left"><i>Timer/Counter Interrupt Mask Register 2<br /></i></div>
                                      </div>
                                      <div style="text-align:left"><i><br /></i></div>
                                      <div style="text-align:left"><i><br /></i></div>
                                      <div style="text-align:left"><i><span style="font-style:normal">
                                            <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                              <tbody>
                                                <tr>
                                                  <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                                </tr>
                                                <tr>
                                                  <td style="vertical-align:top;text-align:center;height:15px"><b>TIFR2</b></td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-<br /></td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-<br /></td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-<br /></td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-<br /></td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(238,238,238)">-<br /></td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">OCF2B<br /></td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">OCF2A<br /></td>
                                                  <td style="vertical-align:top;text-align:center;color:rgb(0,0,0);background-color:rgb(255,255,255)">TOV2 <br /></td>
                                                </tr>
                                              </tbody>
                                            </table>
                                            <div style="text-align:left"><i>Timer/Counter Interrupt Flag Register 2<br /></i></div>
                                          </span></i></div>
                                      <div><br /></div>
                                      <div><br /></div>
                                      <div><i><span style="font-style:normal">
                                            <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                              <tbody>
                                                <tr>
                                                  <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                                  <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                                </tr>
                                                <tr>
                                                  <td style="vertical-align:top;text-align:center;height:15px"><b>TCNT2</b></td>
                                                  <td style="vertical-align:top;text-align:center"> </td>
                                                  <td style="vertical-align:top;text-align:center"><br /></td>
                                                  <td style="vertical-align:top;text-align:center"><br /></td>
                                                  <td style="vertical-align:top;text-align:center"><br /></td>
                                                  <td style="vertical-align:top;text-align:center"><br /></td>
                                                  <td style="vertical-align:top;text-align:center"><br /></td>
                                                  <td style="vertical-align:top;text-align:center"><br /></td>
                                                  <td style="vertical-align:top;text-align:center"> </td>
                                                </tr>
                                              </tbody>
                                            </table>
                                            <div style="text-align:left"><i>Timer/Counter Register 2 (stores the counter value)</i></div>
                                            <div><i><br /></i></div>
                                            <div><i><br /></i></div>
                                          </span></i></div>
                                    </div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><i><span style="font-style:normal">
                                          <table border="1" bordercolor="#888888" cellspacing="0" style="margin:0px;border-color:rgb(136,136,136);border-width:1px;text-align:center;border-collapse:collapse">
                                            <tbody>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td>
                                                <td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td>
                                              </tr>
                                              <tr>
                                                <td style="vertical-align:top;text-align:center;height:15px"><b>OCR2</b></td>
                                                <td style="vertical-align:top;text-align:center"> </td>
                                                <td style="vertical-align:top;text-align:center"><br /></td>
                                                <td style="vertical-align:top;text-align:center"><br /></td>
                                                <td style="vertical-align:top;text-align:center"><br /></td>
                                                <td style="vertical-align:top;text-align:center"><br /></td>
                                                <td style="vertical-align:top;text-align:center"><br /></td>
                                                <td style="vertical-align:top;text-align:center"><br /></td>
                                                <td style="vertical-align:top;text-align:center"> </td>
                                              </tr>
                                            </tbody>
                                          </table>
                                          <div style="text-align:left"><i>Output Compare Register 2 (stores the compare value)</i></div>
                                          <div><i><br /><br /></i><i><i>Software:</i></i><br /></div>
                                        </span></i></div>
                                  </b></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span><br /></span>
                                  <div></div>
                                </div>
                                <div class="sites-codeblock sites-codesnippet-block" style="background-color:rgb(239,239,239);border:1px solid rgb(211,211,211);display:block;padding:0.5em 0px 0.5em 1em;line-height:13px">
                                  <div style="font-weight:normal;font-size:13px">
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><code style="color:rgb(0,96,0)">// this code sets up timer2 for a 250us  @ 16Mhz Clock</code><br /><br /><br /><code style="color:rgb(0,96,0)">#include &lt;avr/io.h&gt;</code></div>
                                    <div>
                                      <font color="#006000" face="monospace">#include &lt;avr/interrupt.h&gt;<br /></font><br /><br /><code style="font-family:Verdana,Helvetica,Arial,sans-serif;color:rgb(0,96,0)">int main(void)</code><br /><code style="font-family:Verdana,Helvetica,Arial,sans-serif;color:rgb(0,96,0)">{</code>
                                    </div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif">
                                      <font color="#006000" face="monospace"><span><code style="color:rgb(0,96,0)">    OCR2A = 62;</code></span></font>
                                    </div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif">
                                      <font color="#006000" face="monospace"><span><br /></span></font>
                                    </div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><span><span><code style="color:rgb(0,96,0)">    TCCR2A |= (1 &lt;&lt; WGM21);</code></span><br /></span></div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><span><span><span><code style="color:rgb(0,96,0)">    // Set to CTC Mode</code></span><br /></span></span></div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><br />
                                      <font color="#006000" face="monospace"><span><span><code style="color:rgb(0,96,0)">    </code></span><code style="color:rgb(0,96,0)">TIMSK2 |= (1 &lt;&lt;</code></span><code style="color:rgb(0,96,0)"> OCIE2A);</code><br /><span><code style="color:rgb(0,96,0)">    </code></span><code style="color:rgb(0,96,0)">//Set interrupt on compare match</code></font><br /><br />
                                    </div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><span><code style="color:rgb(0,96,0)">    </code></span><code style="color:rgb(0,96,0)">TCCR2B |= (1 &lt;&lt; CS21);</code><br /><span><code style="color:rgb(0,96,0)">    </code></span><code style="color:rgb(0,96,0)">// set prescaler to 64 and starts PWM</code><br /><br /><span><code style="color:rgb(0,96,0)">    </code></span><code style="color:rgb(0,96,0)">sei();<br /><span>    </span>// enable interrupts<br /></code></div>
                                    <div style="font-family:Verdana,Helvetica,Arial,sans-serif"><br /><br /><span><code style="color:rgb(0,96,0)">    </code></span><code style="color:rgb(0,96,0)">while (1)</code><br /><span><code style="color:rgb(0,96,0)">    </code></span><code style="color:rgb(0,96,0)">{</code><br /><span><code style="color:rgb(0,96,0)">    </code><span><code style="color:rgb(0,96,0)">    </code></span></span><code style="color:rgb(0,96,0)">// Main loop<br /></code></div><span style="font-family:Verdana,Helvetica,Arial,sans-serif"><code style="color:rgb(0,96,0)">    </code></span><code style="font-family:Verdana,Helvetica,Arial,sans-serif;color:rgb(0,96,0)">}</code><br /><code style="font-family:Verdana,Helvetica,Arial,sans-serif;color:rgb(0,96,0)">}</code><br /><br /><code style="font-family:Verdana,Helvetica,Arial,sans-serif;color:rgb(0,96,0)">ISR (TIMER2_COMPA_vect)</code><br /><code style="font-family:Verdana,Helvetica,Arial,sans-serif;color:rgb(0,96,0)">{</code><br /><span style="font-family:Verdana,Helvetica,Arial,sans-serif"><code style="color:rgb(0,96,0)">    // action to be done every 250 usec</code></span><br /><code style="font-family:Verdana,Helvetica,Arial,sans-serif;color:rgb(0,96,0)">}</code><br /><span style="font-family:Verdana,Helvetica,Arial,sans-serif"><br /></span>
                                  </div>
                                  <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"></div>
                                </div><br /><br /><br /><span>    </span>Thanks all folks.<br /><br />
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span>Cheers.</span></div>
                                <div style="font-family:Verdana,Helvetica,Arial,sans-serif;font-weight:normal;font-size:13px"><span>Q</span></div>
                                <div><span><br /></span></div>
                                <div><span><br /></span></div>
                                <div><span><br /></span></div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
              </table>
            </div>
          </div>
          <div id="sites-chrome-footer-wrapper">
            <div id="sites-chrome-footer-wrapper-inside">
              <div id="sites-chrome-footer">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

</html>