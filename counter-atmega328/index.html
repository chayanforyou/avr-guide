<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { /*

Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="//www.google.com/images/icons/product/sites-16.ico" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/5acb68/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { function d(a){return document.getElementById(a)}window.byId=d;function g(a){return a.replace(/^\s+|\s+$/g,"")}window.trim=g;var h=[],k=0;window.JOT_addListener=function(a,b,c){var f=new String(k++);a={eventName:a,handler:b,compId:c,key:f};h.push(a);return f};window.JOT_removeListenerByKey=function(a){for(var b=0;b<h.length;b++)if(h[b].key==a){h.splice(b,1);break}};window.JOT_removeAllListenersForName=function(a){for(var b=0;b<h.length;b++)h[b].eventName==a&&h.splice(b,1)};
window.JOT_postEvent=function(a,b,c){var f={eventName:a,eventSrc:b||{},payload:c||{}};if(window.JOT_fullyLoaded)for(b=h.length,c=0;c<b&&c<h.length;c++){var e=h[c];e&&e.eventName==a&&(f.listenerCompId=e.compId||"",(e="function"==typeof e.handler?e.handler:window[e.handler])&&e(f))}else window.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:c})};window.JOT_delayedEvents=[];window.JOT_fullyLoaded=!1;
window.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(1440<=a||0>a)return null;var c=0;60<=a&&(a/=60,c=2);2<=a&&c++;return b?window.JOT_siteRelTimeStrs[c].replace("__duration__",Math.floor(a)):window.JOT_userRelTimeStrs[c].replace("__duration__",Math.floor(a))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/site/qeewiki/books","deleted":false,"title":"My Books","dir":"ltr"},{"path":"/site/qeewiki/books/avr-guide","deleted":false,"title":"AVR GUIDE","dir":"ltr"},{"path":"/site/qeewiki/books/avr-guide/counter-atmega328","deleted":false,"title":"COUNTERS ON THE ATmega168/328","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/5acb68/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"gvizGstaticVersion":"current","enableAnalytics":true,"pageSharingId":"jotspot_page","codeembeds":{"outerIframeSrc":"https://www.gstatic.com/jotspot/embeds/code/0f08d42392f2000e7e3f3daf5b427a43/outer_iframe.html","innerIframeSrc":"https://334136914-jotspot-embeds.googleusercontent.com/code/8d87fa64604b2a11fae2ed06104c58d3/inner_iframe.html"},"enableUniversalAnalytics":false,"sharingPolicy":"OPENED","siteTitle":"QEEWiki","jot2atari":{"eligibility":"ineligible"},"onepickUrl":"https://docs.google.com/picker","adsensePublisherId":"ca-pub-5107231512580887","features":{"moreMobileStyleImprovements":null,"disableGroups":true,"subscriptionDataMigrationInProgress":null,"plusBadge":false},"isPublic":true,"newSitesBaseUrl":"https://sites.google.com","isConsumer":true,"serverFlags":{"jot2AtariLearnMoreUrl":"https://support.google.com/sites/answer/7035197"},"domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://accounts.google.com/AccountChooser?continue\u003dhttps://sites.google.com/site/qeewiki/books/avr-guide/counter-atmega328\u0026service\u003djotspot","analyticsAccountId":"UA-21612997-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/5acb68/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/5acb68/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/5acb68/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/5acb68/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/5acb68/system/app/css/trogedit.css","/site/qeewiki/_/rsrc/1601537872000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/5acb68/system/app/css/codeeditor.css","/site/qeewiki/_/rsrc/1601537872000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"defaultdomain","baseUri":"/site/qeewiki","name":"qeewiki","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/books/avr-guide","parentWuid":"wuid:gx:5233ae16d3813d0e","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"COUNTERS ON THE ATmega168/328","locale":"en","wuid":"wuid:gx:1681206e97b7bc2","revision":13,"path":"/books/avr-guide/counter-atmega328","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"counter-atmega328","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","onePickToken":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false},"gadgets":{"baseUri":"/site/qeewiki/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="google-site-verification" content="orvQ4DFSfx4CAZweO0v6wepgC6eoAdNyEYQgR82As_0" />
<meta name="title" content="COUNTERS ON THE ATmega168/328 - QEEWiki" />
<meta itemprop="name" content="COUNTERS ON THE ATmega168/328 - QEEWiki" />
<meta property="og:title" content="COUNTERS ON THE ATmega168/328 - QEEWiki" />
<meta name="description" content="Q's Electrical Engineering Wiki" />
<meta itemprop="description" content="Q's Electrical Engineering Wiki" />
<meta id="meta-tag-description" property="og:description" content="Q's Electrical Engineering Wiki" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/5acb68/system/app/themes/simple/standard-css-simple-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="/site/qeewiki/_/rsrc/1601537872000/system/app/css/overlay.css?cb=simple960px70175goog-ws-leftnonethemedefaultstandard" />
<link rel="stylesheet" type="text/css" href="/site/qeewiki/_/rsrc/1601537872000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/site/qeewiki/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>COUNTERS ON THE ATmega168/328 - QEEWiki</title>
<meta itemprop="image" content="https://sites.google.com/site/qeewiki/_/rsrc/1297558882183/books/avr-guide/counter-atmega328/ATmega328%20-%20COUNTERS.JPG" />
<meta property="og:image" content="https://sites.google.com/site/qeewiki/_/rsrc/1297558882183/books/avr-guide/counter-atmega328/ATmega328%20-%20COUNTERS.JPG" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner" style="height: 70px"><div class="sites-header-cell-buffer-wrapper"><h2><a href="https://sites.google.com/site/qeewiki/" dir="ltr" id="sites-chrome-userheader-title">QEEWiki</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="/site/qeewiki/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:175px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Navigation</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList" class="has-expander"><li class="topLevel nav-first "><div dir="ltr" style="padding-left: 19px;"><a href="/site/qeewiki/home" jotId="wuid:gx:3b2a480be041e60" class="sites-navigation-link topLevel">Home</a></div></li><li class="topLevel parent " wuid="gx:1ec109d3ab18d07f"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="/site/qeewiki/projects" jotId="wuid:gx:1ec109d3ab18d07f" class="sites-navigation-link topLevel">My Projects</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/site/qeewiki/projects/birchall-exhibit" jotId="wuid:gx:2f17363d8ef867da" class="sites-navigation-link">Leonard Birchall Exhibit</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/site/qeewiki/projects/plc" jotId="wuid:gx:8f11d54a6150943" class="sites-navigation-link">PLC [Hardware Project]</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/site/qeewiki/projects/q-s-max7456-img-gen" jotId="wuid:gx:3e8d0842432aa385" class="sites-navigation-link">Q's MAX7456 Img Gen</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/site/qeewiki/projects/briefcase-controller" jotId="wuid:gx:454516d6082c8052" class="sites-navigation-link">Briefcase Controller [In Development]</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/site/qeewiki/home/solidworks-projects" jotId="wuid:gx:6c95446145ec8103" class="sites-navigation-link">SolidWorks Projects</a></div></li></ul></li><li class="topLevel parent " wuid="gx:535b3f3a2562e7ad"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="/site/qeewiki/books" jotId="wuid:gx:535b3f3a2562e7ad" class="sites-navigation-link topLevel">My Books</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/site/qeewiki/books/avr-guide" jotId="wuid:gx:5233ae16d3813d0e" class="sites-navigation-link">AVR GUIDE</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/site/qeewiki/books/3d-printing-guide" jotId="wuid:gx:7a019a1555c1b6b" class="sites-navigation-link">3D Printing Guide</a></div></li></ul></li><li class="topLevel parent " wuid="gx:431df5631c9dc5f5"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="/site/qeewiki/my-bike" jotId="wuid:gx:431df5631c9dc5f5" class="sites-navigation-link topLevel">My Bike</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/site/qeewiki/my-bike/shadow-rs-saddlebag-mounts" jotId="wuid:gx:2b90dc9079e015f1" class="sites-navigation-link">Shadow RS Saddlebag Mounts</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="/site/qeewiki/my-bike/viper-security-system-fail" jotId="wuid:gx:148fcf698abf9658" class="sites-navigation-link">Viper Security System Fail</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="/site/qeewiki/datasheet-library" jotId="wuid:gx:bd46660b1977317" class="sites-navigation-link topLevel">Datasheet Library</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="/site/qeewiki/friends-tutorials" jotId="wuid:gx:79bc3e8ef01d5fd7" class="sites-navigation-link topLevel">Friends Tutorials</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="/site/qeewiki/components" jotId="wuid:gx:38afe48728a6cbb2" class="sites-navigation-link topLevel">Components</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="/site/qeewiki/usefull-avr-stuff" jotId="wuid:gx:9d929f8c6b8e7ca" class="sites-navigation-link topLevel">Usefull Engineering Stuff</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_5818525579565211" class="sites-embed" role="navigation"><h4 class="sites-embed-title">Resources</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList" class="has-expander"><li class="topLevel nav-first "><div dir="ltr" style="padding-left: 19px;"><a href="http://www.sparkfun.com" class="sites-navigation-link topLevel">Sparkfun</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="http://arduino.cc/en/Reference/HomePage" class="sites-navigation-link topLevel">Arduino Reference</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="http://www.eevblog.com/" class="sites-navigation-link topLevel">EEVBlog</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="http://fritzing.org/download/" class="sites-navigation-link topLevel">Fritzing Projects</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="http://www.adafruit.com/" class="sites-navigation-link topLevel">Ada Fruit</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="http://www.pololu.com/" class="sites-navigation-link topLevel">Pololu</a></div></li><li class="topLevel parent "><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="http://www.atmel.com" class="sites-navigation-link topLevel">Atmel</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="http://www.atmel.com/dyn/resources/prod_documents/doc2486.pdf" class="sites-navigation-link">Atmega8 Datasheet</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="http://www.atmel.com/Images/Atmel-8271-8-bit-AVR-Microcontroller-ATmega48A-48PA-88A-88PA-168A-168PA-328-328P_datasheet.pdf" class="sites-navigation-link">ATMega168/328 Datasheet</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="/site/qeewiki/software-links" jotId="wuid:gx:2c8ace555c82644b" class="sites-navigation-link topLevel">Software Links</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_6477897660156883" class="sites-embed" role="navigation"><h4 class="sites-embed-title">None EE Faves</h4><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://www.minecraft.net/" class="sites-navigation-link">Minecraft !!!</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.exploremusic.com/shows/ongoing-history-of-new-music/" class="sites-navigation-link">Ongoing History of New Music</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.white-wolf.com/" class="sites-navigation-link">White Wolf Ent.</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.escapistmagazine.com/videos/view/there-will-be-brawl" class="sites-navigation-link">There Will Be BRAWL</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_9013322391547263" class="sites-embed" role="complementary"><div class="sites-embed-content-notitle"><span jotId="content"><p><script type="text/javascript">
<!--
google_ad_client="pub-5107231512580887";
google_ad_host="pub-6693688277674466";
google_ad_width=120;
google_ad_height=600;
google_ad_format="120x600_as";
google_ad_type="text_image";
google_color_border="EEEEEE";
google_color_bg="EEEEEE";
google_color_link="000000";
google_color_url="0000CC";
google_color_text="000000";
//-->
</script>
<script type="text/javascript" src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</p></span></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="/site/qeewiki/books" dir="ltr">My Books</A>‎ &gt; ‎<A href="/site/qeewiki/books/avr-guide" dir="ltr">AVR GUIDE</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">COUNTERS ON THE ATmega168/328</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-layout-name-one-column-hf sites-layout-vbox"><div class="sites-layout-tile sites-tile-name-header sites-layout-empty-tile"><div dir="ltr"><br /></div></div><div class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div><font face="'courier new', monospace" size="3"><b>INTRODUCTION:</b></font><div><br /></div><div><span>    This chapter is basiclly the same as 4.1 however, it is adapted to the ATmega168/328.  The reason I chose this is because the registers have changed dramatically from the ATmega8.</span><br /></div><div><br /></div><div><span>    This chapter describes the operation of the hardware counters of the ATmega168/328. While software counters are fairly simple they can easily miss fast signals in long complex programs.  Hardware counters are always looking for inputs and if configured correctly will not miss even fast signals.</span></div><div><span><br /></span></div><div><span>    The ATmega168/328 has 3 counters, 2 8bit counters and 1 16bit counter.  Since all 3 counters have unique registers and special functions I will break this chapter subsections by counter insted of my usual hardware, theory and software format.</span><br /></div><div><span><br /><br /></span></div><div><span><div style="display:block;text-align:left"><a href="https://sites.google.com/site/qeewiki/books/avr-guide/counter-atmega328/ATmega328%20-%20COUNTERS.JPG?attredirects=0" imageanchor="1"><img border="0" src="https://sites.google.com/site/qeewiki/_/rsrc/1297558882183/books/avr-guide/counter-atmega328/ATmega328%20-%20COUNTERS.JPG" /></a></div><span style="font-family:courier new,monospace">Figure 1: ATmega168/328 - Counter Pins</span><br /><br /><br /></span></div><div><span><hr style="border-width:0px;background-color:rgb(204,204,204);height:1px" /></span></div><div><span><br /></span></div><div><span><font face="'courier new', monospace" size="3"><b>COUNTER0 (8 Bit):</b></font></span></div><div><span><br /></span></div><div><span><br /></span></div><div><i>Theory of Operation:</i></div><div><br /></div><div><br /></div><div><div style="display:block;text-align:left"><a href="https://sites.google.com/site/qeewiki/books/avr-guide/counter-atmega328/Counter0%20-%20ATmega328.JPG?attredirects=0" imageanchor="1"><img border="0" src="https://sites.google.com/site/qeewiki/_/rsrc/1294106583974/books/avr-guide/counter-atmega328/Counter0%20-%20ATmega328.JPG" /></a></div></div><div><i>Figure 2: Counter0</i></div><div><br /></div><div><br /></div><div><div><span><span>    Counter0 is the most basic Counter on the AVR.  </span>The T0 </span>pin(as always T0 has the same restrictions as any  INPUT or OUTPUT), passes the signals into the Edge Detection, which when triggered sends a pulse to the Control Logic.  The Control Logic updates the TCNT0 register which is a 8 bit register.  The Control Logic unit in counter0 has the ability to increment, decrement or clear(reset) the TCNT0 register.  There are 8 different modes of operation that govern the Control Logic, however, most of them are only useful for PWM operations.  </div><div><br /></div><div><span>    </span>For counting external inputs only 2 modes really apply.  the Normal Mode, and the CTC (Clear Timer On Comparer). </div><div><br /></div><div><span>    </span>In Normal Mode the counter will count untill it reaches the TOP value.  When the TCNT0 register passes the TOP value (0xFF or 255) it simply overflows (or overruns) back to 0, at the same time the TOV1 flag is set.  In CTC (Clear Timer on Compare) mode the counter will count until it hits the value specified in the OCR0 register.  When the TCNT0 passes the TOP value (Specified by the OCR0) it resets to 0 and at the same time sets the TOV0 flag.</div></div><div><br /></div><div><span>    The only other thing that you I could say about Counter0 is that if it is enabled, it will count events on the T0 pin regardless of if it is set as an input or an output.</span><br /></div><div><span><br /></span></div><div><span><table border="1" bordercolor="#888888" cellspacing="0" style="border-color:rgb(136,136,136);border-width:1px;margin:0px;text-align:center;border-collapse:collapse"><tbody><tr><td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td><td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td></tr><tr><td style="vertical-align:top;text-align:center;height:15px"><b>TCCR0A</b></td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">COM0A1</td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">COM0A0 </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">COM0B1 </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">COM0B0 </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> -</td><td style="vertical-align:top;text-align:center"> WGM01</td><td style="vertical-align:top;text-align:center">WGM00 <br /></td></tr></tbody></table></span></div><div><span><i>Timer/Counter Control Register 0</i> </span></div><div><span><br /></span></div><div><span><br /></span></div><div><span><br /></span></div><div><span><table border="1" bordercolor="#888888" cellspacing="0" style="border-color:rgb(136,136,136);border-width:1px;margin:0px;text-align:center;border-collapse:collapse"><tbody><tr><td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td><td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td></tr><tr><td style="vertical-align:top;text-align:center;height:15px"><b>TCCR0B</b></td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> FOC0A</td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">FOC0B </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">WGM02 </td><td style="vertical-align:top;text-align:center"> CS02</td><td style="vertical-align:top;text-align:center"> CS01</td><td style="vertical-align:top;text-align:center">CS00 </td></tr></tbody></table><div style="text-align:left"><i>Timer/Counter Control Register 0</i></div></span></div><div><span><br /></span></div><div><span><br /></span></div><blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px"><div><table border="1" bordercolor="#888888" cellspacing="0" style="border-color:rgb(136,136,136);border-width:1px;margin:0px;border-collapse:collapse"><tbody><tr><td style="vertical-align:top;width:54px;height:15px"><b> CS02</b></td><td style="vertical-align:top;width:54px;height:15px"><b> CS01 </b></td><td style="vertical-align:top;width:54px;height:15px"><b> CS00 </b></td><td style="vertical-align:top;width:365px;height:15px"><b> DESCRIPTION</b></td></tr><tr><td style="vertical-align:top;text-align:center;width:54px;height:15px">0</td><td style="vertical-align:top;text-align:center;width:54px;height:15px">0</td><td style="vertical-align:top;text-align:center;width:54px;height:15px">0</td><td style="vertical-align:top;text-align:left;width:365px;height:15px"> Timer/Counter0 Disabled </td></tr><tr><td style="vertical-align:top;text-align:center;width:54px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">X</td><td style="vertical-align:top;text-align:center;width:54px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">X</td><td style="vertical-align:top;text-align:center;width:54px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">X</td><td style="vertical-align:top;text-align:left;width:365px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)"> Prescaler settings (omited in this tutorial)</td></tr><tr><td style="vertical-align:top;text-align:center;width:54px;height:15px">1</td><td style="vertical-align:top;text-align:center;width:54px;height:15px">1</td><td style="vertical-align:top;text-align:center;width:54px;height:15px">0</td><td style="vertical-align:top;text-align:left;width:365px;height:15px"> External Clock Source on T0 pin, Clock on falling Edge</td></tr><tr><td style="vertical-align:top;text-align:center;width:54px;height:15px">1</td><td style="vertical-align:top;text-align:center;width:54px;height:15px">1</td><td style="vertical-align:top;text-align:center;width:54px;height:15px">1</td><td style="vertical-align:top;text-align:left;width:365px;height:15px"> External Clock Source on T0 pin, Clock on Rising Edge </td></tr></tbody></table><i>CS bits</i></div></blockquote><div><br /></div><div><blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px"><div><table border="1" bordercolor="#888888" cellspacing="0" style="border-color:rgb(136,136,136);border-width:1px;margin:0px;border-collapse:collapse"><tbody><tr><td style="vertical-align:top;width:62px;height:19px"> <b>WGM03</b></td><td style="vertical-align:top;width:60px;height:19px"><b> WGM02</b></td><td style="vertical-align:top;width:59px;height:19px"><b> WGM01</b></td><td style="vertical-align:top;width:61px;height:19px"><b> WGM00</b></td><td style="vertical-align:top;width:114px;height:19px"><b> MODE </b></td><td style="vertical-align:top;width:53px;height:19px"><b> TOP </b></td><td style="vertical-align:top;width:65px;height:19px"><b> TOV1</b> </td></tr><tr><td style="vertical-align:top;width:62px;height:15px;text-align:center">0</td><td style="vertical-align:top;width:60px;height:15px;text-align:center">0</td><td style="vertical-align:top;width:59px;height:15px;text-align:center">0</td><td style="vertical-align:top;width:61px;height:15px;text-align:center">0</td><td style="vertical-align:top;width:114px;height:15px"> Normal</td><td style="vertical-align:top;width:53px;height:15px"> 0xFF</td><td style="vertical-align:top;width:65px;height:15px"> MAX </td></tr><tr><td style="vertical-align:top;width:62px;height:15px;text-align:center">0</td><td style="vertical-align:top;width:60px;height:15px;text-align:center">1</td><td style="vertical-align:top;width:59px;height:15px;text-align:center">0</td><td style="vertical-align:top;width:61px;height:15px;text-align:center">0</td><td style="vertical-align:top;width:114px;height:15px"> CTC</td><td style="vertical-align:top;width:53px;height:15px"> OCR1A</td><td style="vertical-align:top;width:65px;height:15px"> MAX</td></tr></tbody></table></div></blockquote><blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px"><div>Counter0 Modes (Abbreviated Version)</div></blockquote></div><div><br /></div><div><br /></div><div><table border="1" bordercolor="#888888" cellspacing="0" style="border-color:rgb(136,136,136);border-width:1px;margin:0px;text-align:center;border-collapse:collapse"><tbody><tr><td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td><td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td></tr><tr><td style="vertical-align:top;text-align:center;height:15px"> <b>TIMSK0</b></td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> -</td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> OCIE0B</td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> OCIE0A</td><td style="vertical-align:top;text-align:center">TOIE0 </td></tr></tbody></table><div style="text-align:left"><i>Timer/Counter0 Interrupt Mask Register</i></div></div><div style="text-align:left"><i><br /></i></div><div style="text-align:left"><i><br /></i></div><div style="text-align:left"><i><span style="font-style:normal"><table border="1" bordercolor="#888888" cellspacing="0" style="border-color:rgb(136,136,136);border-width:1px;margin:0px;text-align:center;border-collapse:collapse"><tbody><tr><td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td><td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td></tr><tr><td style="vertical-align:top;text-align:center;height:15px"> <b>TIFR0</b></td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> -</td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> OCF0B</td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> OCF0A</td><td style="vertical-align:top;text-align:center">TOV0 </td></tr></tbody></table><div style="text-align:left"><i>Timer/Counter0 Interrupt Flag Register</i></div></span></i></div><div><br /></div><div><br /></div><div><i><span style="font-style:normal"><table border="1" bordercolor="#888888" cellspacing="0" style="border-color:rgb(136,136,136);border-width:1px;margin:0px;text-align:center;border-collapse:collapse"><tbody><tr><td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td><td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td></tr><tr><td style="vertical-align:top;text-align:center;height:15px"> <b>TCNT0</b></td><td style="vertical-align:top;text-align:center"> </td><td style="vertical-align:top;text-align:center"><br /></td><td style="vertical-align:top;text-align:center"><br /></td><td style="vertical-align:top;text-align:center"><br /></td><td style="vertical-align:top;text-align:center"><br /></td><td style="vertical-align:top;text-align:center"><br /></td><td style="vertical-align:top;text-align:center"><br /></td><td style="vertical-align:top;text-align:center"> </td></tr></tbody></table><div style="text-align:left"><i>Timer/Counter0 Register (stores the counter value)</i></div></span></i></div><div><br /></div><div><br /></div><div><i>Software:</i></div><div><br /></div><div><span>    You want simple, you got it.  When it comes to a Counter </span><span>all you have to do is activate it for clock on falling edge or 
clock on rising edge using the CS0n bits within the TCCR0 register 
and decide if you want to use the overflow interrupt or not</span><span>.  Brilliantly simple.</span><br /></div><div><br /></div><div><i>ATmega168/328 Code:</i><br /></div><div class="sites-codeblock sites-codesnippet-block" style="border:1px solid rgb(211,211,211);padding:0.5em 0px 0.5em 1em;background-color:rgb(239,239,239);display:block;line-height:13px"><div><code style="color:rgb(0,96,0)">// this code sets up counter0 and with no interrupts</code><br /><br /><br /><code style="color:rgb(0,96,0)">#include &lt;avr/io.h&gt;</code><br /><br /><br /><code style="color:rgb(0,96,0)">int main(void)</code><br /><code style="color:rgb(0,96,0)">{</code><br /><code style="color:rgb(0,96,0)"><span>    </span>DDRD &amp;= ~(1 &lt;&lt; DDD4); <span>    </span>// Clear the PD4 pin</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// PD4 is now an input</code><br /><br /><code style="color:rgb(0,96,0)"><span>    </span>PORTD |= (1 &lt;&lt; PORTD4); <span>  </span>// turn On the Pull-up</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// PD4 is now an input with pull-up enabled</code><br /><br /><code style="color:rgb(0,96,0)"><span>    </span>TCCR0B |= (1 &lt;&lt; CS02) | (1 &lt;&lt; CS01) | (1 &lt;&lt; CS00);</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// Turn on the counter, Clock on Rise</code><br /><br /><br /><code style="color:rgb(0,96,0)"><span>    </span>while (1)</code><br /><code style="color:rgb(0,96,0)"><span>    </span>{</code><br /><code style="color:rgb(0,96,0)"><span>    <span>    </span></span>// we can read the value of TCNT0 hurray !!</code></div><div><code style="color:rgb(0,96,0)"><span>    </span>}</code><br /><code style="color:rgb(0,96,0)">}</code></div></div><div><br /></div><div><br /></div><div><div><i>ATmega168/328 Code:</i><br /></div></div><div></div><div class="sites-codeblock sites-codesnippet-block" style="border:1px solid rgb(211,211,211);padding:0.5em 0px 0.5em 1em;background-color:rgb(239,239,239);display:block;line-height:13px"><div><code style="color:rgb(0,96,0)">// this code sets up counter0 and with interrupts enabled</code><br /><br /><br /><code style="color:rgb(0,96,0)">#include &lt;avr/io.h&gt;</code><br /><code style="color:rgb(0,96,0)">#include &lt;avr/interrupt.h&gt;</code><br /><br /></div><div><br /></div><div><br /></div><div><code style="color:rgb(0,96,0)">int main(void)</code><br /><code style="color:rgb(0,96,0)">{</code><br /><code style="color:rgb(0,96,0)"><span>    </span>DDRD &amp;= ~(1 &lt;&lt; DDD4); <span>    </span>// Clear the PD4 pin</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// PD0 is now an input</code><br /><br /><code style="color:rgb(0,96,0)"><span>    </span>PORTD |= (1 &lt;&lt; PORTD4); <span>  </span>// turn On the Pull-up</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// PDO is now an input with pull-up enabled</code><br /><br /><code style="color:rgb(0,96,0)"><span>    </span>TIMSK0 |= (1 &lt;&lt; TOIE0); <span>   </span>// enable timer interrupt</code><br /><br /><code style="color:rgb(0,96,0)"><span>    </span>TCCR0B |= (1 &lt;&lt; CS02) | (1 &lt;&lt; CS01) | (1 &lt;&lt; CS00);</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// Turn on the counter, Clock on Risf</code></div><div><code style="color:rgb(0,96,0)"><br /></code></div><div><code style="color:rgb(0,96,0)"><span>    s</span>ei();<span>    <span>    <span>    <span>    <span>    // enable Interrupts</span></span></span></span></span></code><br /><br /><br /><code style="color:rgb(0,96,0)"><span>    </span>while (1)</code><br /><code style="color:rgb(0,96,0)"><span>    </span>{</code><br /><code style="color:rgb(0,96,0)"><span>    <span>    </span></span>// we can read the value of TCNT0 hurray !!</code><br /><code style="color:rgb(0,96,0)"><span>    </span>}</code><br /><code style="color:rgb(0,96,0)">}</code><br /><br /><br /><code style="color:rgb(0,96,0)">ISR (TIMER0_OVF_vect)</code><br /><code style="color:rgb(0,96,0)">{</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// interrupt just fired</code><br /><code style="color:rgb(0,96,0)">}</code><br /></div></div><div><br /></div><div><br /></div><div><br /></div><div><hr style="border-width:0px;background-color:rgb(204,204,204);height:1px" /></div><div><br /></div><div><b><font face="'courier new', monospace" size="3">COUNTER1 (16 Bit):</font></b></div><div><br /></div><div><br /></div><div><i>Theory of Operation:</i></div><div><br /></div><div><div style="display:block;text-align:left"><a href="https://sites.google.com/site/qeewiki/books/avr-guide/counters-atmega8/Counter1%20-%20ATmega8.JPG?attredirects=0" imageanchor="1" style="color:rgb(0,0,204);text-decoration:none;border-bottom-style:none"><img border="0" src="https://sites.google.com/site/qeewiki/_/rsrc/1294086637229/books/avr-guide/counters-atmega8/Counter1%20-%20ATmega8.JPG" style="border-style:solid;border-width:1px;padding:7px;background-color:rgb(255,255,255)" /></a></div><i>Figure 3: Counter1</i></div><div><br /></div><div><br /></div><div><span>    As you could see counter1 is just a 16bit version of Counter0.  The T1 </span>pin(as always T1 has the same restrictions as any  INPUT or OUTPUT), passes the signals into the Edge Detection, which when triggered sends a pulse to the Control Logic.  The Control Logic updates the TCNT1 register which is a 16 bit register.  The Control Logic unit in counter1 has the ability to increment, decrement or clear(reset) the TCNT1 register.  There are 16 different modes of operation that govern the Control Logic, however, most of them are only useful for PWM operations.  </div><div><br /></div><div><span>    </span>For counting external inputs only 2 modes really apply.  the Normal Mode, and the CTC (Clear Timer On Comparer). </div><div><br /><br /><i>Normal Mode:</i><br /><br /></div><div><span>    </span>In Normal Mode the counter will count untill it reaches the TOP value.  When the TCNT1 register passes the TOP value (0xFFFF or 65535) it simply overflows (or overruns) back to 0, at the same time the TOV1 flag is set.  <br /><br /><br /><i>CTC Mode:</i><br /><br /><span>    </span>In CTC (Clear Timer on Compare) mode the counter will count until it hits the value specified in the OCR1 register.  When the TCNT1 passes the TOP value (Specified by the OCR1) it resets to 0 and at the same time sets the TOV1 flag.</div><div><br /></div><div><span>    An interrupt can be configured to trigger when the TOV1 flag is set.</span><br /></div><div><span><br /></span></div><div><span><br /></span></div><div><span><br /></span></div><div style="text-align:left"><table border="1" bordercolor="#888888" cellspacing="0" style="border-color:rgb(136,136,136);border-width:1px;margin:0px;text-align:center;border-collapse:collapse"><tbody><tr><td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td><td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td></tr><tr><td style="vertical-align:top;text-align:center;height:15px"><b>TCCR1A</b></td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">COM1A1</td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">COM1A0</td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">COM1B1</td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">COM1B0 </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> -</td><td style="vertical-align:top;text-align:center"><font color="#666666"> </font>WGM11</td><td style="vertical-align:top;text-align:center">WGM10 </td></tr></tbody></table><div style="text-align:left"><i>Timer/Counter1 Control Register A</i></div></div><div><span><br /></span></div><div><span><br /></span></div><div><table border="1" bordercolor="#888888" cellspacing="0" style="border-color:rgb(136,136,136);border-width:1px;margin:0px;text-align:center;border-collapse:collapse"><tbody><tr><td style="vertical-align:top;text-align:center;width:64px;height:15px"> </td><td style="vertical-align:top;text-align:center;width:59px;height:15px"><b> 7 bit</b></td><td style="vertical-align:top;text-align:center;width:59px;height:15px"><b> 6 bit </b></td><td style="vertical-align:top;text-align:center;width:59px;height:15px"><b> 5 bit </b></td><td style="vertical-align:top;text-align:center;width:59px;height:15px"><b> 4 bit </b></td><td style="vertical-align:top;text-align:center;width:59px;height:15px"><b> 3 bit </b></td><td style="vertical-align:top;text-align:center;width:59px;height:15px"><b> 2 bit </b></td><td style="vertical-align:top;text-align:center;width:59px;height:15px"><b> 1 bit </b></td><td style="vertical-align:top;text-align:center;width:59px;height:15px"><b> 0 bit</b> </td></tr><tr><td style="vertical-align:top;text-align:center;width:64px;height:15px"> <b>TCCR1B</b></td><td style="vertical-align:top;text-align:center;width:59px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)"> ICNC1</td><td style="vertical-align:top;text-align:center;width:59px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">ICES1 </td><td style="vertical-align:top;text-align:center;width:59px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;width:59px;height:15px">WGM13 </td><td style="vertical-align:top;text-align:center;width:59px;height:15px">WGM12 </td><td style="vertical-align:top;text-align:center;width:59px;height:15px"> CS12</td><td style="vertical-align:top;text-align:center;width:59px;height:15px"> CS11</td><td style="vertical-align:top;text-align:center;width:59px;height:15px">CS10 </td></tr></tbody></table><div style="text-align:left"><i>Timer/Counter1 Control Register B</i></div></div><div><br /></div><div><br /></div><blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px"><div><table border="1" bordercolor="#888888" cellspacing="0" style="border-color:rgb(136,136,136);border-width:1px;margin:0px;border-collapse:collapse"><tbody><tr><td style="vertical-align:top;width:54px;height:15px"><b> CS12</b></td><td style="vertical-align:top;width:54px;height:15px"><b> CS11 </b></td><td style="vertical-align:top;width:54px;height:15px"><b> CS10 </b></td><td style="vertical-align:top;width:365px;height:15px"><b> DESCRIPTION</b></td></tr><tr><td style="vertical-align:top;text-align:center;width:54px;height:15px">0</td><td style="vertical-align:top;text-align:center;width:54px;height:15px">0</td><td style="vertical-align:top;text-align:center;width:54px;height:15px">0</td><td style="vertical-align:top;text-align:left;width:365px;height:15px"> Timer/Counter0 Disabled </td></tr><tr><td style="vertical-align:top;text-align:center;width:54px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">X</td><td style="vertical-align:top;text-align:center;width:54px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">X</td><td style="vertical-align:top;text-align:center;width:54px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)">X</td><td style="vertical-align:top;text-align:left;width:365px;height:15px;color:rgb(153,153,153);background-color:rgb(243,243,243)"> Prescaler settings (omited in this tutorial)</td></tr><tr><td style="vertical-align:top;text-align:center;width:54px;height:15px">1</td><td style="vertical-align:top;text-align:center;width:54px;height:15px">1</td><td style="vertical-align:top;text-align:center;width:54px;height:15px">0</td><td style="vertical-align:top;text-align:left;width:365px;height:15px"> External Clock Source on T1 pin, Clock on falling Edge</td></tr><tr><td style="vertical-align:top;text-align:center;width:54px;height:15px">1</td><td style="vertical-align:top;text-align:center;width:54px;height:15px">1</td><td style="vertical-align:top;text-align:center;width:54px;height:15px">1</td><td style="vertical-align:top;text-align:left;width:365px;height:15px"> External Clock Source on T1 pin, Clock on Rising Edge </td></tr></tbody></table></div></blockquote><blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px"><div><i>CS bits</i></div></blockquote><div><br /></div><div><br /></div><blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px"><div><table border="1" bordercolor="#888888" cellspacing="0" style="border-color:rgb(136,136,136);border-width:1px;margin:0px;border-collapse:collapse"><tbody><tr><td style="vertical-align:top;width:62px;height:19px"> <b>WGM13</b></td><td style="vertical-align:top;width:60px;height:19px"><b> WGM12</b></td><td style="vertical-align:top;width:59px;height:19px"><b> WGM11</b></td><td style="vertical-align:top;width:61px;height:19px"><b> WGM10</b></td><td style="vertical-align:top;width:114px;height:19px"><b> MODE </b></td><td style="vertical-align:top;width:53px;height:19px"><b> TOP </b></td><td style="vertical-align:top;width:65px;height:19px"><b> TOV1</b> </td></tr><tr><td style="vertical-align:top;width:62px;height:15px;text-align:center">0</td><td style="vertical-align:top;width:60px;height:15px;text-align:center">0</td><td style="vertical-align:top;width:59px;height:15px;text-align:center">0</td><td style="vertical-align:top;width:61px;height:15px;text-align:center">0</td><td style="vertical-align:top;width:114px;height:15px"> Normal</td><td style="vertical-align:top;width:53px;height:15px"> 0xFFFF</td><td style="vertical-align:top;width:65px;height:15px"> MAX </td></tr><tr><td style="vertical-align:top;width:62px;height:15px;text-align:center">0</td><td style="vertical-align:top;width:60px;height:15px;text-align:center">1</td><td style="vertical-align:top;width:59px;height:15px;text-align:center">0</td><td style="vertical-align:top;width:61px;height:15px;text-align:center">0</td><td style="vertical-align:top;width:114px;height:15px"> CTC</td><td style="vertical-align:top;width:53px;height:15px"> OCR1A</td><td style="vertical-align:top;width:65px;height:15px"> MAX</td></tr></tbody></table></div></blockquote><blockquote style="border-style:none;margin:0px 0px 0px 40px;padding:0px"><div>Counter1 Modes (Abbreviated Version)</div></blockquote><div><br /></div><div><br /></div><div><div><table border="1" bordercolor="#888888" cellspacing="0" style="border-color:rgb(136,136,136);border-width:1px;margin:0px;text-align:center;border-collapse:collapse"><tbody><tr><td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td><td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td></tr><tr><td style="vertical-align:top;text-align:center;height:15px"> <b>TIMSK1</b></td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> -</td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">ICIE1 </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> OCIE1B</td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> OCIE1A</td><td style="vertical-align:top;text-align:center">TOIE1 </td></tr></tbody></table><div style="text-align:left"><i>Timer/Counter1 Interrupt Mask Register</i></div></div><div style="text-align:left"><i><br /></i></div><div style="text-align:left"><i><br /></i></div><div style="text-align:left"><i><span style="font-style:normal"><table border="1" bordercolor="#888888" cellspacing="0" style="border-color:rgb(136,136,136);border-width:1px;margin:0px;text-align:center;border-collapse:collapse"><tbody><tr><td style="vertical-align:top;text-align:center;width:58px;height:15px"> </td><td style="vertical-align:top;text-align:center;width:58px"><b> 7 bit</b></td><td style="vertical-align:top;text-align:center;width:58px"><b> 6 bit </b></td><td style="vertical-align:top;text-align:center;width:58px"><b> 5 bit </b></td><td style="vertical-align:top;text-align:center;width:58px"><b> 4 bit </b></td><td style="vertical-align:top;text-align:center;width:58px"><b> 3 bit </b></td><td style="vertical-align:top;text-align:center;width:58px"><b> 2 bit </b></td><td style="vertical-align:top;text-align:center;width:58px"><b> 1 bit </b></td><td style="vertical-align:top;text-align:center;width:58px"><b> 0 bit</b> </td></tr><tr><td style="vertical-align:top;text-align:center;height:15px"> <b>TIFR1</b></td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> -</td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">ICF1 </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)">- </td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> OCF1B</td><td style="vertical-align:top;text-align:center;color:rgb(153,153,153);background-color:rgb(243,243,243)"> OCF1A</td><td style="vertical-align:top;text-align:center">TOV1<font color="#666666"> </font></td></tr></tbody></table><div style="text-align:left"><i>Timer/Counter Interrupt Flag Register</i></div></span></i></div><div><br /></div><div><br /></div><div><table border="1" bordercolor="#888888" cellspacing="0" style="border-color:rgb(136,136,136);border-width:1px;margin:0px;text-align:center;border-collapse:collapse;font-style:normal"><tbody><tr><td style="vertical-align:top;text-align:center;width:59px;height:15px"> </td><td style="vertical-align:top;text-align:center;width:59px"><b> 7 bit</b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 6 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 5 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 4 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 3 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 2 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 1 bit </b></td><td style="vertical-align:top;text-align:center;width:59px"><b> 0 bit</b> </td></tr><tr><td style="vertical-align:top;text-align:center;height:15px"><b>TCNT1L</b></td><td style="vertical-align:top;text-align:center"> </td><td style="vertical-align:top;text-align:center"><br /></td><td style="vertical-align:top;text-align:center"><br /></td><td style="vertical-align:top;text-align:center"><br /></td><td style="vertical-align:top;text-align:center"><br /></td><td style="vertical-align:top;text-align:center"><br /></td><td style="vertical-align:top;text-align:center"><br /></td><td style="vertical-align:top;text-align:center"> </td></tr><tr><td style="vertical-align:top"><b>TCNT1H</b></td><td style="vertical-align:top"> </td><td style="vertical-align:top"> </td><td style="vertical-align:top"> </td><td style="vertical-align:top"> </td><td style="vertical-align:top"> </td><td style="vertical-align:top"> </td><td style="vertical-align:top"> </td><td style="vertical-align:top"> </td></tr></tbody></table><div style="text-align:left"><i>Timer/Counter Register (stores the counter value) Can be accessed as</i><i style="font-style:normal"> </i><b>TCNT1</b></div><div style="font-style:normal"><i><br /><br />&lt;&lt;&lt; ADD OCRIA register here &gt;&gt;&gt;<br /><br /></i></div></div></div><div><br /><i>Selecting Counter Modes:</i><br /><br /><span>    </span>This is a bit funny, the 4 bits that control Counter2's mode are spread across 2 different registers:  the WGM13 bit and the WGM12 bit are stored in the TCR1B register while the WGM11 and WGM12 bits are stored within the TCR1A register.  Set the bits according to the Counter1 modes table and your ready and your almost ready to rock.  If you selected the CTC mode, your next step is to put the value that you want to count to into the OCR1A register.  <br /><br /><br /><br /><br /></div><div><i>Software:</i></div><div><br /></div><div><span>    Counter1 isn't any different then Counter0, if we dont change the values of the WGMnx registers it will function the same way as Counter0 (well aside from being 16 bit instead of 8 bit that is).</span><br /></div><div><span><br /></span></div><div><span><br /></span></div><div><span><div><i>ATmega168/328 Code:</i><br /></div><div class="sites-codeblock sites-codesnippet-block" style="border:1px solid rgb(211,211,211);padding:0.5em 0px 0.5em 1em;background-color:rgb(239,239,239);display:block;line-height:13px"><div><code style="color:rgb(0,96,0)">// this code sets up counter1 and with no interrupts in normal mode</code><br /><br /><br /><code style="color:rgb(0,96,0)">#include &lt;avr/io.h&gt;</code><br /><br /><br /><code style="color:rgb(0,96,0)">int main(void)</code><br /><code style="color:rgb(0,96,0)">{</code><br /><code style="color:rgb(0,96,0)"><span>    </span>DDRD &amp;= ~(1 &lt;&lt; DDD5); <span>    </span>// Clear the PD5 pin</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// PD5 is now an input</code><br /><br /><code style="color:rgb(0,96,0)"><span>    </span>PORTD |= (1 &lt;&lt; PORTD5); <span>  </span>// turn On the Pull-up</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// PD5 is now an input with pull-up enabled</code><br /><br /><code style="color:rgb(0,96,0)"><span>    </span>TCCR1B |= (1 &lt;&lt; CS12) | (1 &lt;&lt; CS11) | (1 &lt;&lt; CS10);</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// Turn on the counter, Clock on Rise</code><br /><br /><br /><code style="color:rgb(0,96,0)"><span>    </span>while (1)</code><br /><code style="color:rgb(0,96,0)"><span>    </span>{</code><br /><code style="color:rgb(0,96,0)"><span>    <span>    </span></span>// we can read the value of TCNT1 hurray !!</code></div><div><code style="color:rgb(0,96,0)"><span>    </span>}</code><br /><code style="color:rgb(0,96,0)">}</code></div></div><div><br /></div><div><br /></div><div><div><i>ATmega168/328 Code:</i><br /></div></div><div></div><div class="sites-codeblock sites-codesnippet-block" style="border:1px solid rgb(211,211,211);padding:0.5em 0px 0.5em 1em;background-color:rgb(239,239,239);display:block;line-height:13px"><div><code style="color:rgb(0,96,0)">// this code sets up counter1 and with interrupts enabled</code><br /><br /><br /><code style="color:rgb(0,96,0)">#include &lt;avr/io.h&gt;</code><br /><code style="color:rgb(0,96,0)">#include &lt;avr/interrupt.h&gt;</code><br /><br /></div><div><br /></div><div><br /></div><div><code style="color:rgb(0,96,0)">int main(void)</code><br /><code style="color:rgb(0,96,0)">{</code><br /><code style="color:rgb(0,96,0)"><span>    </span>DDRD &amp;= ~(1 &lt;&lt; DDD5); <span>    </span>// Clear the PD4 pin</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// PD5 is now an input</code><br /><br /><code style="color:rgb(0,96,0)"><span>    </span>PORTD |= (1 &lt;&lt; PORTD5); <span>  </span>// turn On the Pull-up</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// PD5 is now an input with pull-up enabled</code><br /><br /><code style="color:rgb(0,96,0)"><span>    </span>TIMSK1 |= (1 &lt;&lt; TOIE1); <span>   </span>// enable timer interrupt</code><br /><br /><code style="color:rgb(0,96,0)"><span>    </span>TCCR1B |= (1 &lt;&lt; CS12) | (1 &lt;&lt; CS11) | (1 &lt;&lt; CS10);</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// Turn on the counter</code></div><div><font color="#006000" face="monospace"><br /></font></div><div><font color="#006000" face="monospace"><span>    sei();<span>    <span>    <span>    <span>    <span>     // Turn on Interupts</span></span></span></span></span></span><br /></font><br /><br /></div><div><code style="color:rgb(0,96,0)"><span>    </span>while (1)</code><br /><code style="color:rgb(0,96,0)"><span>    </span>{</code><br /><code style="color:rgb(0,96,0)"><span>    <span>    </span></span>// we can read the value of TCNT1 hurray !!</code><br /><code style="color:rgb(0,96,0)"><span>    </span>}</code><br /><code style="color:rgb(0,96,0)">}</code><br /><br /><br /><code style="color:rgb(0,96,0)">ISR (TIMER1_OVF_vect)</code><br /><code style="color:rgb(0,96,0)">{</code><br /><code style="color:rgb(0,96,0)"><span>    </span>// interrupt just fired</code><br /><code style="color:rgb(0,96,0)">}</code><br /></div><div><code style="color:rgb(0,96,0)"><br /></code></div></div></span></div><div><br /></div><div><br /></div><div><br /></div><div><div><hr style="border-width:0px;background-color:rgb(204,204,204);height:1px" /><div><br /></div><b><font face="'courier new', monospace" size="3">COUNTER2 (8 Bit):</font></b></div><div><br /></div><div><br /></div><div><i>Theory of Operation:</i></div><div><br /></div><div><div style="display:block;text-align:left"></div><i>Figure 3: Counter 2</i></div><div><br /></div><div><span>    Counter2 is designed to be used with an external Crystal Oscillatory.  In fact, it is optimized for a 32.768 kHz XTAL, this will provide you with a very accurate Real Time Clock.  Because this is a lot closer to being a Timer then a counter I will cover this topic in the Timer tutorial.</span><br /></div><div><span><br /></span></div><div><span><span>    Lastly, the datasheet states that hooking up a input to TOSC1 is not recommended.  I have never done it so I can say what it will do.</span><br /></span></div><div><span><span><br /></span></span></div><div><span><span><br /></span></span></div><div><span><span><span>    Woot, for copy and paste.  I got this done at the airport in 30 min !!!</span><br /></span></span></div><div><span><span><span><br /></span></span></span></div><div><span><span><span>Cheers</span></span></span></div><div><span><span><span>Q</span></span></span></div></div><div><br /></div></div><div><br /></div><div><br /></div></div></div><div class="sites-layout-tile sites-tile-name-footer"><div dir="ltr"><div style="text-align:right">Comments? Questions? Problems with content?  <a href="mailto:q.qeewiki@gmail.com" style="color:rgb(0,0,204);text-decoration:underline">q.qeewiki@gmail.com</a></div><div style="text-align:right"><br /></div><div style="text-align:right"><br /></div><div style="text-align:right"><br /></div><div style="text-align:right"><div><div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-off sites-embed" style="width:728px;"><div class="sites-embed-content sites-embed-type-adsense"><script type="text/javascript">
<!--
google_ad_client="pub-5107231512580887";
google_ad_host="pub-6693688277674466";
google_ad_width=728;
google_ad_height=90;
google_ad_format="728x90_as";
google_ad_type="text_image";
google_color_border="CCCCCC";
google_color_bg="FFFFFF";
google_color_link="000000";
google_color_url="0000CC";
google_color_text="000000";
//-->
</script><script type="text/javascript" src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div></div></div></div><br /></div></div></div></div>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://accounts.google.com/ServiceLogin?continue=https://sites.google.com/site/qeewiki/books/avr-guide/counter-atmega328&amp;service=jotspot">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="https://sites.google.com/site/qeewiki/system/app/pages/reportAbuse" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/site">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/5acb68/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[{"action":"/site/qeewiki/system/app/pages/search","id":"search-site","label":"Search this site"}]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/site/qeewiki/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("2bd", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_2bd');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("5818525579565211", "Resources", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_5818525579565211');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("6477897660156883", "None EE Faves", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_6477897660156883');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvVAyCBLEemWMIUcaLKh3i_Ff-OfAnZzOAmMxyKjZeGeiuv2vzp3J7oeq6_SPUh7LVbUN25-059Eg94CN7g9XoTFrGFO6Q63nAfBKhdc0wXCynmE3OoaB174LrRP3iz590UwxYJ/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000, 1128902400000, 1130657000000, 1143333000000, 1143806400000, 1145000000000, 1146380000000, 1152489600000, 1159800000000, 1159500000000, 1162095000000, 1162075000000, 1162105500000]);
    gsites.Xhr.send('https://sites.google.com/site/qeewiki/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<script type="text/javascript">
          sites.codeembed.init();
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
